                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.1.1 #7100 (Oct 29 2014) (Linux)
                              4 ; This file was generated Wed Dec  2 18:10:51 2015
                              5 ;--------------------------------------------------------
                              6 	.module sicslowmac
                              7 	.optsdcc -mmcs51 --model-huge
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _sicslowmac_driver
                             13 	.globl _send_list
                             14 	.globl _random_rand
                             15 	.globl _queuebuf_to_packetbuf
                             16 	.globl _packetbuf_addr
                             17 	.globl _packetbuf_set_addr
                             18 	.globl _packetbuf_attr
                             19 	.globl _packetbuf_hdrreduce
                             20 	.globl _packetbuf_hdralloc
                             21 	.globl _packetbuf_totlen
                             22 	.globl _packetbuf_datalen
                             23 	.globl _packetbuf_hdrptr
                             24 	.globl _packetbuf_dataptr
                             25 	.globl _frame802154_parse
                             26 	.globl _frame802154_create
                             27 	.globl _frame802154_hdrlen
                             28 	.globl _rimeaddr_cmp
                             29 	.globl _rimeaddr_copy
                             30 	.globl _memset
                             31 ;--------------------------------------------------------
                             32 ; special function registers
                             33 ;--------------------------------------------------------
                             34 	.area RSEG    (ABS,DATA)
   0000                      35 	.org 0x0000
                             36 ;--------------------------------------------------------
                             37 ; special function bits
                             38 ;--------------------------------------------------------
                             39 	.area RSEG    (ABS,DATA)
   0000                      40 	.org 0x0000
                             41 ;--------------------------------------------------------
                             42 ; overlayable register banks
                             43 ;--------------------------------------------------------
                             44 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      45 	.ds 8
                             46 ;--------------------------------------------------------
                             47 ; internal ram data
                             48 ;--------------------------------------------------------
                             49 	.area DSEG    (DATA)
                             50 ;--------------------------------------------------------
                             51 ; overlayable items in internal ram 
                             52 ;--------------------------------------------------------
                             53 	.area OSEG    (OVR,DATA)
                             54 ;--------------------------------------------------------
                             55 ; indirectly addressable internal ram data
                             56 ;--------------------------------------------------------
                             57 	.area ISEG    (DATA)
                             58 ;--------------------------------------------------------
                             59 ; absolute internal ram data
                             60 ;--------------------------------------------------------
                             61 	.area IABS    (ABS,DATA)
                             62 	.area IABS    (ABS,DATA)
                             63 ;--------------------------------------------------------
                             64 ; bit data
                             65 ;--------------------------------------------------------
                             66 	.area BSEG    (BIT)
                             67 ;--------------------------------------------------------
                             68 ; paged external ram data
                             69 ;--------------------------------------------------------
                             70 	.area PSEG    (PAG,XDATA)
                             71 ;--------------------------------------------------------
                             72 ; external ram data
                             73 ;--------------------------------------------------------
                             74 	.area XSEG    (XDATA)
   0000                      75 _mac_dsn:
   0000                      76 	.ds 1
                             77 ;--------------------------------------------------------
                             78 ; absolute external ram data
                             79 ;--------------------------------------------------------
                             80 	.area XABS    (ABS,XDATA)
                             81 ;--------------------------------------------------------
                             82 ; external initialized ram data
                             83 ;--------------------------------------------------------
                             84 	.area XISEG   (XDATA)
   0000                      85 _mac_dst_pan_id:
   0000                      86 	.ds 2
   0002                      87 _mac_src_pan_id:
   0002                      88 	.ds 2
                             89 	.area HOME    (CODE)
                             90 	.area GSINIT0 (CODE)
                             91 	.area GSINIT1 (CODE)
                             92 	.area GSINIT2 (CODE)
                             93 	.area GSINIT3 (CODE)
                             94 	.area GSINIT4 (CODE)
                             95 	.area GSINIT5 (CODE)
                             96 	.area GSINIT  (CODE)
                             97 	.area GSFINAL (CODE)
                             98 	.area CSEG    (CODE)
                             99 ;--------------------------------------------------------
                            100 ; global & static initialisations
                            101 ;--------------------------------------------------------
                            102 	.area HOME    (CODE)
                            103 	.area GSINIT  (CODE)
                            104 	.area GSFINAL (CODE)
                            105 	.area GSINIT  (CODE)
                            106 ;--------------------------------------------------------
                            107 ; Home
                            108 ;--------------------------------------------------------
                            109 	.area HOME    (CODE)
                            110 	.area HOME    (CODE)
                            111 ;--------------------------------------------------------
                            112 ; code
                            113 ;--------------------------------------------------------
                            114 	.area BANK1   (CODE)
                            115 ;------------------------------------------------------------
                            116 ;Allocation info for local variables in function 'is_broadcast_addr'
                            117 ;------------------------------------------------------------
                            118 ;addr                      Allocated to stack - sp -5
                            119 ;mode                      Allocated to registers r7 
                            120 ;i                         Allocated to registers 
                            121 ;------------------------------------------------------------
                            122 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:85: is_broadcast_addr(uint8_t mode, uint8_t *addr)
                            123 ;	-----------------------------------------
                            124 ;	 function is_broadcast_addr
                            125 ;	-----------------------------------------
   0000                     126 _is_broadcast_addr:
                    0007    127 	ar7 = 0x07
                    0006    128 	ar6 = 0x06
                    0005    129 	ar5 = 0x05
                    0004    130 	ar4 = 0x04
                    0003    131 	ar3 = 0x03
                    0002    132 	ar2 = 0x02
                    0001    133 	ar1 = 0x01
                    0000    134 	ar0 = 0x00
   0000 AF 82               135 	mov	r7,dpl
                            136 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:87: int i = mode == FRAME802154_SHORTADDRMODE ? 2 : 8;
   0002 BF 02 04            137 	cjne	r7,#0x02,00108$
   0005 7F 02               138 	mov	r7,#0x02
   0007 80 02               139 	sjmp	00109$
   0009                     140 00108$:
   0009 7F 08               141 	mov	r7,#0x08
   000B                     142 00109$:
   000B 8F 06               143 	mov	ar6,r7
   000D 7F 00               144 	mov	r7,#0x00
                            145 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:88: while(i-- > 0) {
   000F                     146 00103$:
   000F 8E 04               147 	mov	ar4,r6
   0011 8F 05               148 	mov	ar5,r7
   0013 1E                  149 	dec	r6
   0014 BE FF 01            150 	cjne	r6,#0xFF,00120$
   0017 1F                  151 	dec	r7
   0018                     152 00120$:
   0018 C3                  153 	clr	c
   0019 E4                  154 	clr	a
   001A 9C                  155 	subb	a,r4
   001B E4                  156 	clr	a
   001C 64 80               157 	xrl	a,#0x80
   001E 8D F0               158 	mov	b,r5
   0020 63 F0 80            159 	xrl	b,#0x80
   0023 95 F0               160 	subb	a,b
   0025 50 23               161 	jnc	00105$
                            162 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:89: if(addr[i] != 0xff) {
   0027 E5 81               163 	mov	a,sp
   0029 24 FB               164 	add	a,#0xfb
   002B F8                  165 	mov	r0,a
   002C EE                  166 	mov	a,r6
   002D 26                  167 	add	a,@r0
   002E FB                  168 	mov	r3,a
   002F EF                  169 	mov	a,r7
   0030 08                  170 	inc	r0
   0031 36                  171 	addc	a,@r0
   0032 FC                  172 	mov	r4,a
   0033 08                  173 	inc	r0
   0034 86 05               174 	mov	ar5,@r0
   0036 8B 82               175 	mov	dpl,r3
   0038 8C 83               176 	mov	dph,r4
   003A 8D F0               177 	mov	b,r5
   003C 12s00r00            178 	lcall	__gptrget
   003F FB                  179 	mov	r3,a
   0040 BB FF 02            180 	cjne	r3,#0xFF,00122$
   0043 80 CA               181 	sjmp	00103$
   0045                     182 00122$:
                            183 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:90: return 0;
   0045 90 00 00            184 	mov	dptr,#0x0000
   0048 80 03               185 	sjmp	00106$
   004A                     186 00105$:
                            187 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:93: return 1;
   004A 90 00 01            188 	mov	dptr,#0x0001
   004D                     189 00106$:
   004D 02s00r00            190 	ljmp	__sdcc_banked_ret
                            191 ;------------------------------------------------------------
                            192 ;Allocation info for local variables in function 'send_packet'
                            193 ;------------------------------------------------------------
                            194 ;ptr                       Allocated to stack - sp -60
                            195 ;sent                      Allocated to stack - sp -54
                            196 ;params                    Allocated to stack - sp -51
                            197 ;len                       Allocated to stack - sp -2
                            198 ;ret                       Allocated to registers r7 r6 
                            199 ;sloc0                     Allocated to stack - sp -1
                            200 ;------------------------------------------------------------
                            201 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:97: send_packet(mac_callback_t sent, void *ptr)
                            202 ;	-----------------------------------------
                            203 ;	 function send_packet
                            204 ;	-----------------------------------------
   0050                     205 _send_packet:
   0050 C0 82               206 	push	dpl
   0052 C0 83               207 	push	dph
   0054 C0 F0               208 	push	b
   0056 E5 81               209 	mov	a,sp
   0058 24 34               210 	add	a,#0x34
                            211 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:103: memset(&params, 0, sizeof(params));
   005A F5 81               212 	mov	sp,a
   005C 24 CD               213 	add	a,#0xCD
   005E FC                  214 	mov	r4,a
   005F 7B 00               215 	mov	r3,#0x00
   0061 7A 40               216 	mov	r2,#0x40
   0063 74 31               217 	mov	a,#0x31
   0065 C0 E0               218 	push	acc
   0067 E4                  219 	clr	a
   0068 C0 E0               220 	push	acc
   006A E4                  221 	clr	a
   006B C0 E0               222 	push	acc
   006D 8C 82               223 	mov	dpl,r4
   006F 8B 83               224 	mov	dph,r3
   0071 8A F0               225 	mov	b,r2
   0073 78r00               226 	mov	r0,#_memset
   0075 79s00               227 	mov	r1,#(_memset >> 8)
   0077 7As00               228 	mov	r2,#(_memset >> 16)
   0079 12s00r00            229 	lcall	__sdcc_banked_call
   007C 15 81               230 	dec	sp
   007E 15 81               231 	dec	sp
   0080 15 81               232 	dec	sp
                            233 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:106: params.fcf.frame_type = FRAME802154_DATAFRAME;
   0082 E5 81               234 	mov	a,sp
   0084 24 CD               235 	add	a,#0xCD
   0086 F9                  236 	mov	r1,a
   0087 77 01               237 	mov	@r1,#0x01
                            238 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:107: params.fcf.security_enabled = 0;
   0089 E9                  239 	mov	a,r1
   008A 04                  240 	inc	a
   008B F8                  241 	mov	r0,a
   008C 76 00               242 	mov	@r0,#0x00
                            243 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:108: params.fcf.frame_pending = 0;
   008E 74 02               244 	mov	a,#0x02
   0090 29                  245 	add	a,r1
   0091 F8                  246 	mov	r0,a
   0092 76 00               247 	mov	@r0,#0x00
                            248 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:109: params.fcf.ack_required = packetbuf_attr(PACKETBUF_ATTR_RELIABLE);
   0094 09                  249 	inc	r1
   0095 09                  250 	inc	r1
   0096 09                  251 	inc	r1
   0097 75 82 0C            252 	mov	dpl,#0x0C
   009A C0 01               253 	push	ar1
   009C 78r00               254 	mov	r0,#_packetbuf_attr
   009E 79s00               255 	mov	r1,#(_packetbuf_attr >> 8)
   00A0 7As00               256 	mov	r2,#(_packetbuf_attr >> 16)
   00A2 12s00r00            257 	lcall	__sdcc_banked_call
   00A5 AB 82               258 	mov	r3,dpl
   00A7 D0 01               259 	pop	ar1
   00A9 A7 03               260 	mov	@r1,ar3
                            261 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:110: params.fcf.panid_compression = 0;
   00AB E5 81               262 	mov	a,sp
   00AD 24 CD               263 	add	a,#0xCD
   00AF FC                  264 	mov	r4,a
   00B0 24 04               265 	add	a,#0x04
   00B2 F8                  266 	mov	r0,a
   00B3 76 00               267 	mov	@r0,#0x00
                            268 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:113: params.fcf.frame_version = FRAME802154_IEEE802154_2003;
   00B5 74 06               269 	mov	a,#0x06
   00B7 2C                  270 	add	a,r4
   00B8 F8                  271 	mov	r0,a
   00B9 76 00               272 	mov	@r0,#0x00
                            273 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:116: params.seq = mac_dsn++;
   00BB E5 81               274 	mov	a,sp
   00BD 24 CD               275 	add	a,#0xCD
   00BF FC                  276 	mov	r4,a
   00C0 24 08               277 	add	a,#0x08
   00C2 F9                  278 	mov	r1,a
   00C3 90s00r00            279 	mov	dptr,#_mac_dsn
   00C6 E0                  280 	movx	a,@dptr
   00C7 FB                  281 	mov	r3,a
   00C8 90s00r00            282 	mov	dptr,#_mac_dsn
   00CB 04                  283 	inc	a
   00CC F0                  284 	movx	@dptr,a
   00CD A7 03               285 	mov	@r1,ar3
                            286 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:123: params.fcf.src_addr_mode = FRAME802154_LONGADDRMODE;
   00CF 74 07               287 	mov	a,#0x07
   00D1 2C                  288 	add	a,r4
   00D2 F8                  289 	mov	r0,a
   00D3 76 03               290 	mov	@r0,#0x03
                            291 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:124: params.dest_pid = mac_dst_pan_id;
   00D5 74 09               292 	mov	a,#0x09
   00D7 2C                  293 	add	a,r4
   00D8 F9                  294 	mov	r1,a
   00D9 90s00r00            295 	mov	dptr,#_mac_dst_pan_id
   00DC E0                  296 	movx	a,@dptr
   00DD FB                  297 	mov	r3,a
   00DE A3                  298 	inc	dptr
   00DF E0                  299 	movx	a,@dptr
   00E0 FC                  300 	mov	r4,a
   00E1 A7 03               301 	mov	@r1,ar3
   00E3 09                  302 	inc	r1
   00E4 A7 04               303 	mov	@r1,ar4
                            304 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:130: if(rimeaddr_cmp(packetbuf_addr(PACKETBUF_ADDR_RECEIVER), &rimeaddr_null)) {
   00E6 75 82 19            305 	mov	dpl,#0x19
   00E9 78r00               306 	mov	r0,#_packetbuf_addr
   00EB 79s00               307 	mov	r1,#(_packetbuf_addr >> 8)
   00ED 7As00               308 	mov	r2,#(_packetbuf_addr >> 16)
   00EF 12s00r00            309 	lcall	__sdcc_banked_call
   00F2 AA 82               310 	mov	r2,dpl
   00F4 AB 83               311 	mov	r3,dph
   00F6 AC F0               312 	mov	r4,b
   00F8 74r00               313 	mov	a,#_rimeaddr_null
   00FA C0 E0               314 	push	acc
   00FC 74s00               315 	mov	a,#(_rimeaddr_null >> 8)
   00FE C0 E0               316 	push	acc
   0100 74 80               317 	mov	a,#0x80
   0102 C0 E0               318 	push	acc
   0104 8A 82               319 	mov	dpl,r2
   0106 8B 83               320 	mov	dph,r3
   0108 8C F0               321 	mov	b,r4
   010A 78r00               322 	mov	r0,#_rimeaddr_cmp
   010C 79s00               323 	mov	r1,#(_rimeaddr_cmp >> 8)
   010E 7As00               324 	mov	r2,#(_rimeaddr_cmp >> 16)
   0110 12s00r00            325 	lcall	__sdcc_banked_call
   0113 AB 82               326 	mov	r3,dpl
   0115 AC 83               327 	mov	r4,dph
   0117 15 81               328 	dec	sp
   0119 15 81               329 	dec	sp
   011B 15 81               330 	dec	sp
   011D EB                  331 	mov	a,r3
   011E 4C                  332 	orl	a,r4
   011F 60 1B               333 	jz	00102$
                            334 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:132: params.fcf.dest_addr_mode = FRAME802154_SHORTADDRMODE;
   0121 E5 81               335 	mov	a,sp
   0123 24 CD               336 	add	a,#0xCD
   0125 24 05               337 	add	a,#0x05
   0127 F8                  338 	mov	r0,a
   0128 76 02               339 	mov	@r0,#0x02
                            340 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:133: params.dest_addr[0] = 0xFF;
   012A E5 81               341 	mov	a,sp
   012C 24 CD               342 	add	a,#0xCD
   012E FC                  343 	mov	r4,a
   012F 24 0B               344 	add	a,#0x0B
   0131 F8                  345 	mov	r0,a
   0132 76 FF               346 	mov	@r0,#0xFF
                            347 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:134: params.dest_addr[1] = 0xFF;
   0134 74 0C               348 	mov	a,#0x0C
   0136 2C                  349 	add	a,r4
   0137 F8                  350 	mov	r0,a
   0138 76 FF               351 	mov	@r0,#0xFF
   013A 80 41               352 	sjmp	00103$
   013C                     353 00102$:
                            354 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:138: packetbuf_addr(PACKETBUF_ADDR_RECEIVER));
   013C 75 82 19            355 	mov	dpl,#0x19
   013F 78r00               356 	mov	r0,#_packetbuf_addr
   0141 79s00               357 	mov	r1,#(_packetbuf_addr >> 8)
   0143 7As00               358 	mov	r2,#(_packetbuf_addr >> 16)
   0145 12s00r00            359 	lcall	__sdcc_banked_call
   0148 AA 82               360 	mov	r2,dpl
   014A AB 83               361 	mov	r3,dph
   014C AC F0               362 	mov	r4,b
                            363 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:137: rimeaddr_copy((rimeaddr_t *)&params.dest_addr,
   014E E5 81               364 	mov	a,sp
   0150 24 CD               365 	add	a,#0xCD
   0152 24 0B               366 	add	a,#0x0B
   0154 FF                  367 	mov	r7,a
   0155 7E 00               368 	mov	r6,#0x00
   0157 7D 40               369 	mov	r5,#0x40
   0159 C0 02               370 	push	ar2
   015B C0 03               371 	push	ar3
   015D C0 04               372 	push	ar4
   015F 8F 82               373 	mov	dpl,r7
   0161 8E 83               374 	mov	dph,r6
   0163 8D F0               375 	mov	b,r5
   0165 78r00               376 	mov	r0,#_rimeaddr_copy
   0167 79s00               377 	mov	r1,#(_rimeaddr_copy >> 8)
   0169 7As00               378 	mov	r2,#(_rimeaddr_copy >> 16)
   016B 12s00r00            379 	lcall	__sdcc_banked_call
   016E 15 81               380 	dec	sp
   0170 15 81               381 	dec	sp
   0172 15 81               382 	dec	sp
                            383 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:139: params.fcf.dest_addr_mode = FRAME802154_LONGADDRMODE;
   0174 E5 81               384 	mov	a,sp
   0176 24 CD               385 	add	a,#0xCD
   0178 24 05               386 	add	a,#0x05
   017A F8                  387 	mov	r0,a
   017B 76 03               388 	mov	@r0,#0x03
                            389 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:171: }
                            390 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:139: params.fcf.dest_addr_mode = FRAME802154_LONGADDRMODE;
   017D                     391 00103$:
                            392 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:143: params.src_pid = mac_src_pan_id;
   017D E5 81               393 	mov	a,sp
   017F 24 CD               394 	add	a,#0xCD
   0181 FC                  395 	mov	r4,a
   0182 24 13               396 	add	a,#0x13
   0184 F9                  397 	mov	r1,a
   0185 90s00r02            398 	mov	dptr,#_mac_src_pan_id
   0188 E0                  399 	movx	a,@dptr
   0189 FA                  400 	mov	r2,a
   018A A3                  401 	inc	dptr
   018B E0                  402 	movx	a,@dptr
   018C FB                  403 	mov	r3,a
   018D A7 02               404 	mov	@r1,ar2
   018F 09                  405 	inc	r1
   0190 A7 03               406 	mov	@r1,ar3
                            407 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:149: rimeaddr_copy((rimeaddr_t *)&params.src_addr, &rimeaddr_node_addr);
   0192 74 15               408 	mov	a,#0x15
   0194 2C                  409 	add	a,r4
   0195 FC                  410 	mov	r4,a
   0196 7B 00               411 	mov	r3,#0x00
   0198 7A 40               412 	mov	r2,#0x40
   019A 74r00               413 	mov	a,#_rimeaddr_node_addr
   019C C0 E0               414 	push	acc
   019E 74s00               415 	mov	a,#(_rimeaddr_node_addr >> 8)
   01A0 C0 E0               416 	push	acc
   01A2 E4                  417 	clr	a
   01A3 C0 E0               418 	push	acc
   01A5 8C 82               419 	mov	dpl,r4
   01A7 8B 83               420 	mov	dph,r3
   01A9 8A F0               421 	mov	b,r2
   01AB 78r00               422 	mov	r0,#_rimeaddr_copy
   01AD 79s00               423 	mov	r1,#(_rimeaddr_copy >> 8)
   01AF 7As00               424 	mov	r2,#(_rimeaddr_copy >> 16)
   01B1 12s00r00            425 	lcall	__sdcc_banked_call
   01B4 15 81               426 	dec	sp
   01B6 15 81               427 	dec	sp
   01B8 15 81               428 	dec	sp
                            429 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:151: params.payload = packetbuf_dataptr();
   01BA E5 81               430 	mov	a,sp
   01BC 24 CD               431 	add	a,#0xCD
   01BE 24 2D               432 	add	a,#0x2D
   01C0 F9                  433 	mov	r1,a
   01C1 C0 01               434 	push	ar1
   01C3 78r00               435 	mov	r0,#_packetbuf_dataptr
   01C5 79s00               436 	mov	r1,#(_packetbuf_dataptr >> 8)
   01C7 7As00               437 	mov	r2,#(_packetbuf_dataptr >> 16)
   01C9 12s00r00            438 	lcall	__sdcc_banked_call
   01CC AA 82               439 	mov	r2,dpl
   01CE AB 83               440 	mov	r3,dph
   01D0 AC F0               441 	mov	r4,b
   01D2 D0 01               442 	pop	ar1
   01D4 A7 02               443 	mov	@r1,ar2
   01D6 09                  444 	inc	r1
   01D7 A7 03               445 	mov	@r1,ar3
   01D9 09                  446 	inc	r1
   01DA A7 04               447 	mov	@r1,ar4
                            448 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:152: params.payload_len = packetbuf_datalen();
   01DC E5 81               449 	mov	a,sp
   01DE 24 CD               450 	add	a,#0xCD
   01E0 24 30               451 	add	a,#0x30
   01E2 F9                  452 	mov	r1,a
   01E3 C0 01               453 	push	ar1
   01E5 78r00               454 	mov	r0,#_packetbuf_datalen
   01E7 79s00               455 	mov	r1,#(_packetbuf_datalen >> 8)
   01E9 7As00               456 	mov	r2,#(_packetbuf_datalen >> 16)
   01EB 12s00r00            457 	lcall	__sdcc_banked_call
   01EE AB 82               458 	mov	r3,dpl
   01F0 D0 01               459 	pop	ar1
   01F2 A7 03               460 	mov	@r1,ar3
                            461 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:153: len = frame802154_hdrlen(&params);
   01F4 E5 81               462 	mov	a,sp
   01F6 24 CD               463 	add	a,#0xCD
   01F8 FC                  464 	mov	r4,a
   01F9 7B 00               465 	mov	r3,#0x00
   01FB 7A 40               466 	mov	r2,#0x40
   01FD 8C 82               467 	mov	dpl,r4
   01FF 8B 83               468 	mov	dph,r3
   0201 8A F0               469 	mov	b,r2
   0203 78r00               470 	mov	r0,#_frame802154_hdrlen
   0205 79s00               471 	mov	r1,#(_frame802154_hdrlen >> 8)
   0207 7As00               472 	mov	r2,#(_frame802154_hdrlen >> 16)
   0209 12s00r00            473 	lcall	__sdcc_banked_call
   020C AC 82               474 	mov	r4,dpl
   020E A8 81               475 	mov	r0,sp
   0210 18                  476 	dec	r0
   0211 18                  477 	dec	r0
   0212 A6 04               478 	mov	@r0,ar4
                            479 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:154: if(packetbuf_hdralloc(len)) {
   0214 A8 81               480 	mov	r0,sp
   0216 18                  481 	dec	r0
   0217 18                  482 	dec	r0
   0218 86 02               483 	mov	ar2,@r0
   021A 7B 00               484 	mov	r3,#0x00
   021C 8A 82               485 	mov	dpl,r2
   021E 8B 83               486 	mov	dph,r3
   0220 78r00               487 	mov	r0,#_packetbuf_hdralloc
   0222 79s00               488 	mov	r1,#(_packetbuf_hdralloc >> 8)
   0224 7As00               489 	mov	r2,#(_packetbuf_hdralloc >> 16)
   0226 12s00r00            490 	lcall	__sdcc_banked_call
   0229 E5 82               491 	mov	a,dpl
   022B 85 83 F0            492 	mov	b,dph
   022E 45 F0               493 	orl	a,b
   0230 70 03               494 	jnz	00124$
   0232 02s03r6B            495 	ljmp	00111$
   0235                     496 00124$:
                            497 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:156: frame802154_create(&params, packetbuf_hdrptr(), len);
   0235 78r00               498 	mov	r0,#_packetbuf_hdrptr
   0237 79s00               499 	mov	r1,#(_packetbuf_hdrptr >> 8)
   0239 7As00               500 	mov	r2,#(_packetbuf_hdrptr >> 16)
   023B 12s00r00            501 	lcall	__sdcc_banked_call
   023E AA 82               502 	mov	r2,dpl
   0240 AB 83               503 	mov	r3,dph
   0242 AC F0               504 	mov	r4,b
   0244 E5 81               505 	mov	a,sp
   0246 24 CD               506 	add	a,#0xCD
   0248 FF                  507 	mov	r7,a
   0249 7E 00               508 	mov	r6,#0x00
   024B 7D 40               509 	mov	r5,#0x40
   024D A8 81               510 	mov	r0,sp
   024F 18                  511 	dec	r0
   0250 18                  512 	dec	r0
   0251 E6                  513 	mov	a,@r0
   0252 C0 E0               514 	push	acc
   0254 C0 02               515 	push	ar2
   0256 C0 03               516 	push	ar3
   0258 C0 04               517 	push	ar4
   025A 8F 82               518 	mov	dpl,r7
   025C 8E 83               519 	mov	dph,r6
   025E 8D F0               520 	mov	b,r5
   0260 78r00               521 	mov	r0,#_frame802154_create
   0262 79s00               522 	mov	r1,#(_frame802154_create >> 8)
   0264 7As00               523 	mov	r2,#(_frame802154_create >> 16)
   0266 12s00r00            524 	lcall	__sdcc_banked_call
   0269 E5 81               525 	mov	a,sp
   026B 24 FC               526 	add	a,#0xfc
   026D F5 81               527 	mov	sp,a
                            528 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:162: ret = NETSTACK_RADIO.send(packetbuf_hdrptr(), packetbuf_totlen());
   026F 90s00r09            529 	mov	dptr,#(_cc2530_rf_driver + 0x0009)
   0272 E4                  530 	clr	a
   0273 93                  531 	movc	a,@a+dptr
   0274 FD                  532 	mov	r5,a
   0275 A3                  533 	inc	dptr
   0276 E4                  534 	clr	a
   0277 93                  535 	movc	a,@a+dptr
   0278 FE                  536 	mov	r6,a
   0279 A3                  537 	inc	dptr
   027A E4                  538 	clr	a
   027B 93                  539 	movc	a,@a+dptr
   027C FF                  540 	mov	r7,a
   027D C0 07               541 	push	ar7
   027F C0 06               542 	push	ar6
   0281 C0 05               543 	push	ar5
   0283 78r00               544 	mov	r0,#_packetbuf_totlen
   0285 79s00               545 	mov	r1,#(_packetbuf_totlen >> 8)
   0287 7As00               546 	mov	r2,#(_packetbuf_totlen >> 16)
   0289 12s00r00            547 	lcall	__sdcc_banked_call
   028C C8                  548 	xch	a,r0
   028D E5 81               549 	mov	a,sp
   028F 24 FC               550 	add	a,#0xfc
   0291 C8                  551 	xch	a,r0
   0292 A6 82               552 	mov	@r0,dpl
   0294 08                  553 	inc	r0
   0295 A6 83               554 	mov	@r0,dph
   0297 78r00               555 	mov	r0,#_packetbuf_hdrptr
   0299 79s00               556 	mov	r1,#(_packetbuf_hdrptr >> 8)
   029B 7As00               557 	mov	r2,#(_packetbuf_hdrptr >> 16)
   029D 12s00r00            558 	lcall	__sdcc_banked_call
   02A0 AA 82               559 	mov	r2,dpl
   02A2 AB 83               560 	mov	r3,dph
   02A4 AC F0               561 	mov	r4,b
   02A6 D0 05               562 	pop	ar5
   02A8 D0 06               563 	pop	ar6
   02AA D0 07               564 	pop	ar7
   02AC C0 07               565 	push	ar7
   02AE A8 81               566 	mov	r0,sp
   02B0 18                  567 	dec	r0
   02B1 18                  568 	dec	r0
   02B2 E6                  569 	mov	a,@r0
   02B3 C0 E0               570 	push	acc
   02B5 08                  571 	inc	r0
   02B6 E6                  572 	mov	a,@r0
   02B7 C0 E0               573 	push	acc
   02B9 C0 05               574 	push	ar5
   02BB C0 06               575 	push	ar6
   02BD C0 07               576 	push	ar7
   02BF 8A 82               577 	mov	dpl,r2
   02C1 8B 83               578 	mov	dph,r3
   02C3 8C F0               579 	mov	b,r4
   02C5 D0 02               580 	pop	ar2
   02C7 D0 01               581 	pop	ar1
   02C9 D0 00               582 	pop	ar0
   02CB 12s00r00            583 	lcall	__sdcc_banked_call
   02CE AD 82               584 	mov	r5,dpl
   02D0 AE 83               585 	mov	r6,dph
   02D2 15 81               586 	dec	sp
   02D4 15 81               587 	dec	sp
   02D6 D0 07               588 	pop	ar7
   02D8 8D 07               589 	mov	ar7,r5
                            590 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:163: if(sent) {
   02DA E5 81               591 	mov	a,sp
   02DC 24 CA               592 	add	a,#0xca
   02DE F8                  593 	mov	r0,a
   02DF E6                  594 	mov	a,@r0
   02E0 08                  595 	inc	r0
   02E1 46                  596 	orl	a,@r0
   02E2 70 03               597 	jnz	00126$
   02E4 02s03r6B            598 	ljmp	00111$
   02E7                     599 00126$:
                            600 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:164: switch(ret) {
   02E7 BF 00 05            601 	cjne	r7,#0x00,00127$
   02EA BE 00 02            602 	cjne	r6,#0x00,00127$
   02ED 80 08               603 	sjmp	00104$
   02EF                     604 00127$:
                            605 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:165: case RADIO_TX_OK:
   02EF BF 01 79            606 	cjne	r7,#0x01,00111$
   02F2 BE 00 76            607 	cjne	r6,#0x00,00111$
   02F5 80 3A               608 	sjmp	00105$
   02F7                     609 00104$:
                            610 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:166: sent(ptr, MAC_TX_OK, 1);
   02F7 74 01               611 	mov	a,#0x01
   02F9 C0 E0               612 	push	acc
   02FB E4                  613 	clr	a
   02FC C0 E0               614 	push	acc
   02FE E4                  615 	clr	a
   02FF C0 E0               616 	push	acc
   0301 C0 E0               617 	push	acc
   0303 E5 81               618 	mov	a,sp
   0305 24 C6               619 	add	a,#0xc6
   0307 F8                  620 	mov	r0,a
   0308 E6                  621 	mov	a,@r0
   0309 C0 E0               622 	push	acc
   030B 08                  623 	inc	r0
   030C E6                  624 	mov	a,@r0
   030D C0 E0               625 	push	acc
   030F 08                  626 	inc	r0
   0310 E6                  627 	mov	a,@r0
   0311 C0 E0               628 	push	acc
   0313 E5 81               629 	mov	a,sp
   0315 24 BD               630 	add	a,#0xbd
   0317 F8                  631 	mov	r0,a
   0318 86 82               632 	mov	dpl,@r0
   031A 08                  633 	inc	r0
   031B 86 83               634 	mov	dph,@r0
   031D 08                  635 	inc	r0
   031E 86 F0               636 	mov	b,@r0
   0320 D0 02               637 	pop	ar2
   0322 D0 01               638 	pop	ar1
   0324 D0 00               639 	pop	ar0
   0326 12s00r00            640 	lcall	__sdcc_banked_call
   0329 E5 81               641 	mov	a,sp
   032B 24 FC               642 	add	a,#0xfc
   032D F5 81               643 	mov	sp,a
                            644 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:167: break;
                            645 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:168: case RADIO_TX_ERR:
   032F 80 3A               646 	sjmp	00111$
   0331                     647 00105$:
                            648 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:169: sent(ptr, MAC_TX_ERR, 1);
   0331 74 01               649 	mov	a,#0x01
   0333 C0 E0               650 	push	acc
   0335 E4                  651 	clr	a
   0336 C0 E0               652 	push	acc
   0338 74 04               653 	mov	a,#0x04
   033A C0 E0               654 	push	acc
   033C E4                  655 	clr	a
   033D C0 E0               656 	push	acc
   033F E5 81               657 	mov	a,sp
   0341 24 C6               658 	add	a,#0xc6
   0343 F8                  659 	mov	r0,a
   0344 E6                  660 	mov	a,@r0
   0345 C0 E0               661 	push	acc
   0347 08                  662 	inc	r0
   0348 E6                  663 	mov	a,@r0
   0349 C0 E0               664 	push	acc
   034B 08                  665 	inc	r0
   034C E6                  666 	mov	a,@r0
   034D C0 E0               667 	push	acc
   034F E5 81               668 	mov	a,sp
   0351 24 BD               669 	add	a,#0xbd
   0353 F8                  670 	mov	r0,a
   0354 86 82               671 	mov	dpl,@r0
   0356 08                  672 	inc	r0
   0357 86 83               673 	mov	dph,@r0
   0359 08                  674 	inc	r0
   035A 86 F0               675 	mov	b,@r0
   035C D0 02               676 	pop	ar2
   035E D0 01               677 	pop	ar1
   0360 D0 00               678 	pop	ar0
   0362 12s00r00            679 	lcall	__sdcc_banked_call
   0365 E5 81               680 	mov	a,sp
   0367 24 FC               681 	add	a,#0xfc
   0369 F5 81               682 	mov	sp,a
                            683 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:171: }
   036B                     684 00111$:
   036B E5 81               685 	mov	a,sp
   036D 24 C9               686 	add	a,#0xC9
   036F F5 81               687 	mov	sp,a
   0371 02s00r00            688 	ljmp	__sdcc_banked_ret
                            689 ;------------------------------------------------------------
                            690 ;Allocation info for local variables in function 'send_list'
                            691 ;------------------------------------------------------------
                            692 ;ptr                       Allocated to stack - sp -5
                            693 ;buf_list                  Allocated to stack - sp -8
                            694 ;sent                      Allocated to registers r5 r6 r7 
                            695 ;------------------------------------------------------------
                            696 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:179: send_list(mac_callback_t sent, void *ptr, struct rdc_buf_list *buf_list)
                            697 ;	-----------------------------------------
                            698 ;	 function send_list
                            699 ;	-----------------------------------------
   0374                     700 _send_list:
   0374 AD 82               701 	mov	r5,dpl
   0376 AE 83               702 	mov	r6,dph
   0378 AF F0               703 	mov	r7,b
                            704 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:181: if(buf_list != NULL) {
   037A E5 81               705 	mov	a,sp
   037C 24 F8               706 	add	a,#0xf8
   037E F8                  707 	mov	r0,a
   037F E6                  708 	mov	a,@r0
   0380 08                  709 	inc	r0
   0381 46                  710 	orl	a,@r0
   0382 60 68               711 	jz	00103$
                            712 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:182: queuebuf_to_packetbuf(buf_list->buf);
   0384 E5 81               713 	mov	a,sp
   0386 24 F8               714 	add	a,#0xf8
   0388 F8                  715 	mov	r0,a
   0389 86 02               716 	mov	ar2,@r0
   038B 08                  717 	inc	r0
   038C 86 03               718 	mov	ar3,@r0
   038E 08                  719 	inc	r0
   038F 86 04               720 	mov	ar4,@r0
   0391 74 03               721 	mov	a,#0x03
   0393 2A                  722 	add	a,r2
   0394 FA                  723 	mov	r2,a
   0395 E4                  724 	clr	a
   0396 3B                  725 	addc	a,r3
   0397 FB                  726 	mov	r3,a
   0398 8A 82               727 	mov	dpl,r2
   039A 8B 83               728 	mov	dph,r3
   039C 8C F0               729 	mov	b,r4
   039E 12s00r00            730 	lcall	__gptrget
   03A1 FA                  731 	mov	r2,a
   03A2 A3                  732 	inc	dptr
   03A3 12s00r00            733 	lcall	__gptrget
   03A6 FB                  734 	mov	r3,a
   03A7 A3                  735 	inc	dptr
   03A8 12s00r00            736 	lcall	__gptrget
   03AB FC                  737 	mov	r4,a
   03AC 8A 82               738 	mov	dpl,r2
   03AE 8B 83               739 	mov	dph,r3
   03B0 8C F0               740 	mov	b,r4
   03B2 C0 07               741 	push	ar7
   03B4 C0 06               742 	push	ar6
   03B6 C0 05               743 	push	ar5
   03B8 78r00               744 	mov	r0,#_queuebuf_to_packetbuf
   03BA 79s00               745 	mov	r1,#(_queuebuf_to_packetbuf >> 8)
   03BC 7As00               746 	mov	r2,#(_queuebuf_to_packetbuf >> 16)
   03BE 12s00r00            747 	lcall	__sdcc_banked_call
   03C1 D0 05               748 	pop	ar5
   03C3 D0 06               749 	pop	ar6
   03C5 D0 07               750 	pop	ar7
                            751 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:183: send_packet(sent, ptr);
   03C7 E5 81               752 	mov	a,sp
   03C9 24 FB               753 	add	a,#0xfb
   03CB F8                  754 	mov	r0,a
   03CC E6                  755 	mov	a,@r0
   03CD C0 E0               756 	push	acc
   03CF 08                  757 	inc	r0
   03D0 E6                  758 	mov	a,@r0
   03D1 C0 E0               759 	push	acc
   03D3 08                  760 	inc	r0
   03D4 E6                  761 	mov	a,@r0
   03D5 C0 E0               762 	push	acc
   03D7 8D 82               763 	mov	dpl,r5
   03D9 8E 83               764 	mov	dph,r6
   03DB 8F F0               765 	mov	b,r7
   03DD 78r50               766 	mov	r0,#_send_packet
   03DF 79s00               767 	mov	r1,#(_send_packet >> 8)
   03E1 7As00               768 	mov	r2,#(_send_packet >> 16)
   03E3 12s00r00            769 	lcall	__sdcc_banked_call
   03E6 15 81               770 	dec	sp
   03E8 15 81               771 	dec	sp
   03EA 15 81               772 	dec	sp
   03EC                     773 00103$:
   03EC 02s00r00            774 	ljmp	__sdcc_banked_ret
                            775 ;------------------------------------------------------------
                            776 ;Allocation info for local variables in function 'input_packet'
                            777 ;------------------------------------------------------------
                            778 ;frame                     Allocated to stack - sp -51
                            779 ;len                       Allocated to stack - sp -2
                            780 ;sloc0                     Allocated to stack - sp +0
                            781 ;------------------------------------------------------------
                            782 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:188: input_packet(void)
                            783 ;	-----------------------------------------
                            784 ;	 function input_packet
                            785 ;	-----------------------------------------
   03EF                     786 _input_packet:
   03EF E5 81               787 	mov	a,sp
   03F1 24 34               788 	add	a,#0x34
   03F3 F5 81               789 	mov	sp,a
                            790 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:193: len = packetbuf_datalen();
   03F5 78r00               791 	mov	r0,#_packetbuf_datalen
   03F7 79s00               792 	mov	r1,#(_packetbuf_datalen >> 8)
   03F9 7As00               793 	mov	r2,#(_packetbuf_datalen >> 16)
   03FB 12s00r00            794 	lcall	__sdcc_banked_call
   03FE AE 82               795 	mov	r6,dpl
   0400 AF 83               796 	mov	r7,dph
   0402 A8 81               797 	mov	r0,sp
   0404 18                  798 	dec	r0
   0405 18                  799 	dec	r0
   0406 A6 06               800 	mov	@r0,ar6
   0408 08                  801 	inc	r0
   0409 A6 07               802 	mov	@r0,ar7
                            803 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:195: if(frame802154_parse(packetbuf_dataptr(), len, &frame) &&
   040B E5 81               804 	mov	a,sp
   040D 24 CD               805 	add	a,#0xCD
   040F FD                  806 	mov	r5,a
   0410 7C 00               807 	mov	r4,#0x00
   0412 7B 40               808 	mov	r3,#0x40
   0414 A8 81               809 	mov	r0,sp
   0416 18                  810 	dec	r0
   0417 18                  811 	dec	r0
   0418 A9 81               812 	mov	r1,sp
   041A E6                  813 	mov	a,@r0
   041B F7                  814 	mov	@r1,a
   041C C0 05               815 	push	ar5
   041E C0 04               816 	push	ar4
   0420 C0 03               817 	push	ar3
   0422 78r00               818 	mov	r0,#_packetbuf_dataptr
   0424 79s00               819 	mov	r1,#(_packetbuf_dataptr >> 8)
   0426 7As00               820 	mov	r2,#(_packetbuf_dataptr >> 16)
   0428 12s00r00            821 	lcall	__sdcc_banked_call
   042B AA 82               822 	mov	r2,dpl
   042D AE 83               823 	mov	r6,dph
   042F AF F0               824 	mov	r7,b
   0431 E5 81               825 	mov	a,sp
   0433 24 FD               826 	add	a,#0xfd
   0435 F8                  827 	mov	r0,a
   0436 E6                  828 	mov	a,@r0
   0437 C0 E0               829 	push	acc
   0439 8A 82               830 	mov	dpl,r2
   043B 8E 83               831 	mov	dph,r6
   043D 8F F0               832 	mov	b,r7
   043F 78r00               833 	mov	r0,#_frame802154_parse
   0441 79s00               834 	mov	r1,#(_frame802154_parse >> 8)
   0443 7As00               835 	mov	r2,#(_frame802154_parse >> 16)
   0445 12s00r00            836 	lcall	__sdcc_banked_call
   0448 AF 82               837 	mov	r7,dpl
   044A E5 81               838 	mov	a,sp
   044C 24 FC               839 	add	a,#0xfc
   044E F5 81               840 	mov	sp,a
   0450 EF                  841 	mov	a,r7
   0451 70 03               842 	jnz	00129$
   0453 02s05r93            843 	ljmp	00113$
   0456                     844 00129$:
                            845 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:196: packetbuf_hdrreduce(len - frame.payload_len)) {
   0456 E5 81               846 	mov	a,sp
   0458 24 CD               847 	add	a,#0xCD
   045A 24 30               848 	add	a,#0x30
   045C F9                  849 	mov	r1,a
   045D 87 07               850 	mov	ar7,@r1
   045F 7E 00               851 	mov	r6,#0x00
   0461 A8 81               852 	mov	r0,sp
   0463 18                  853 	dec	r0
   0464 18                  854 	dec	r0
   0465 E6                  855 	mov	a,@r0
   0466 C3                  856 	clr	c
   0467 9F                  857 	subb	a,r7
   0468 FF                  858 	mov	r7,a
   0469 08                  859 	inc	r0
   046A E6                  860 	mov	a,@r0
   046B 9E                  861 	subb	a,r6
   046C FE                  862 	mov	r6,a
   046D 8F 82               863 	mov	dpl,r7
   046F 8E 83               864 	mov	dph,r6
   0471 78r00               865 	mov	r0,#_packetbuf_hdrreduce
   0473 79s00               866 	mov	r1,#(_packetbuf_hdrreduce >> 8)
   0475 7As00               867 	mov	r2,#(_packetbuf_hdrreduce >> 16)
   0477 12s00r00            868 	lcall	__sdcc_banked_call
   047A E5 82               869 	mov	a,dpl
   047C 85 83 F0            870 	mov	b,dph
   047F 45 F0               871 	orl	a,b
   0481 70 03               872 	jnz	00130$
   0483 02s05r93            873 	ljmp	00113$
   0486                     874 00130$:
                            875 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:197: if(frame.fcf.dest_addr_mode) {
   0486 E5 81               876 	mov	a,sp
   0488 24 CD               877 	add	a,#0xCD
   048A 24 05               878 	add	a,#0x05
   048C F9                  879 	mov	r1,a
   048D E7                  880 	mov	a,@r1
   048E 70 03               881 	jnz	00131$
   0490 02s05r47            882 	ljmp	00109$
   0493                     883 00131$:
                            884 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:198: if(frame.dest_pid != mac_src_pan_id &&
   0493 E5 81               885 	mov	a,sp
   0495 24 CD               886 	add	a,#0xCD
   0497 FF                  887 	mov	r7,a
   0498 24 09               888 	add	a,#0x09
   049A F9                  889 	mov	r1,a
   049B 87 05               890 	mov	ar5,@r1
   049D 09                  891 	inc	r1
   049E 87 06               892 	mov	ar6,@r1
   04A0 90s00r02            893 	mov	dptr,#_mac_src_pan_id
   04A3 E0                  894 	movx	a,@dptr
   04A4 FB                  895 	mov	r3,a
   04A5 A3                  896 	inc	dptr
   04A6 E0                  897 	movx	a,@dptr
   04A7 FC                  898 	mov	r4,a
   04A8 ED                  899 	mov	a,r5
   04A9 B5 03 06            900 	cjne	a,ar3,00132$
   04AC EE                  901 	mov	a,r6
   04AD B5 04 02            902 	cjne	a,ar4,00132$
   04B0 80 0B               903 	sjmp	00102$
   04B2                     904 00132$:
                            905 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:199: frame.dest_pid != FRAME802154_BROADCASTPANDID) {
   04B2 BD FF 05            906 	cjne	r5,#0xFF,00133$
   04B5 BE FF 02            907 	cjne	r6,#0xFF,00133$
   04B8 80 03               908 	sjmp	00102$
   04BA                     909 00133$:
                            910 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:202: return;
   04BA 02s05r93            911 	ljmp	00113$
   04BD                     912 00102$:
                            913 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:204: if(!is_broadcast_addr(frame.fcf.dest_addr_mode, frame.dest_addr)) {
   04BD 74 0B               914 	mov	a,#0x0B
   04BF 2F                  915 	add	a,r7
   04C0 FE                  916 	mov	r6,a
   04C1 7D 00               917 	mov	r5,#0x00
   04C3 7C 40               918 	mov	r4,#0x40
   04C5 74 05               919 	mov	a,#0x05
   04C7 2F                  920 	add	a,r7
   04C8 F9                  921 	mov	r1,a
   04C9 87 07               922 	mov	ar7,@r1
   04CB C0 06               923 	push	ar6
   04CD C0 05               924 	push	ar5
   04CF C0 04               925 	push	ar4
   04D1 8F 82               926 	mov	dpl,r7
   04D3 78r00               927 	mov	r0,#_is_broadcast_addr
   04D5 79s00               928 	mov	r1,#(_is_broadcast_addr >> 8)
   04D7 7As00               929 	mov	r2,#(_is_broadcast_addr >> 16)
   04D9 12s00r00            930 	lcall	__sdcc_banked_call
   04DC AE 82               931 	mov	r6,dpl
   04DE AF 83               932 	mov	r7,dph
   04E0 15 81               933 	dec	sp
   04E2 15 81               934 	dec	sp
   04E4 15 81               935 	dec	sp
   04E6 EE                  936 	mov	a,r6
   04E7 4F                  937 	orl	a,r7
   04E8 70 5D               938 	jnz	00109$
                            939 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:205: packetbuf_set_addr(PACKETBUF_ADDR_RECEIVER, (rimeaddr_t *)&frame.dest_addr);
   04EA E5 81               940 	mov	a,sp
   04EC 24 CD               941 	add	a,#0xCD
   04EE 24 0B               942 	add	a,#0x0B
   04F0 FF                  943 	mov	r7,a
   04F1 7E 00               944 	mov	r6,#0x00
   04F3 7D 40               945 	mov	r5,#0x40
   04F5 C0 07               946 	push	ar7
   04F7 C0 06               947 	push	ar6
   04F9 C0 05               948 	push	ar5
   04FB 75 82 19            949 	mov	dpl,#0x19
   04FE 78r00               950 	mov	r0,#_packetbuf_set_addr
   0500 79s00               951 	mov	r1,#(_packetbuf_set_addr >> 8)
   0502 7As00               952 	mov	r2,#(_packetbuf_set_addr >> 16)
   0504 12s00r00            953 	lcall	__sdcc_banked_call
   0507 15 81               954 	dec	sp
   0509 15 81               955 	dec	sp
   050B 15 81               956 	dec	sp
                            957 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:207: &rimeaddr_node_addr)) {
                            958 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:206: if(!rimeaddr_cmp(packetbuf_addr(PACKETBUF_ADDR_RECEIVER),
   050D 75 82 19            959 	mov	dpl,#0x19
   0510 78r00               960 	mov	r0,#_packetbuf_addr
   0512 79s00               961 	mov	r1,#(_packetbuf_addr >> 8)
   0514 7As00               962 	mov	r2,#(_packetbuf_addr >> 16)
   0516 12s00r00            963 	lcall	__sdcc_banked_call
   0519 AD 82               964 	mov	r5,dpl
   051B AE 83               965 	mov	r6,dph
   051D AF F0               966 	mov	r7,b
   051F 74r00               967 	mov	a,#_rimeaddr_node_addr
   0521 C0 E0               968 	push	acc
   0523 74s00               969 	mov	a,#(_rimeaddr_node_addr >> 8)
   0525 C0 E0               970 	push	acc
   0527 E4                  971 	clr	a
   0528 C0 E0               972 	push	acc
   052A 8D 82               973 	mov	dpl,r5
   052C 8E 83               974 	mov	dph,r6
   052E 8F F0               975 	mov	b,r7
   0530 78r00               976 	mov	r0,#_rimeaddr_cmp
   0532 79s00               977 	mov	r1,#(_rimeaddr_cmp >> 8)
   0534 7As00               978 	mov	r2,#(_rimeaddr_cmp >> 16)
   0536 12s00r00            979 	lcall	__sdcc_banked_call
   0539 AE 82               980 	mov	r6,dpl
   053B AF 83               981 	mov	r7,dph
   053D 15 81               982 	dec	sp
   053F 15 81               983 	dec	sp
   0541 15 81               984 	dec	sp
   0543 EE                  985 	mov	a,r6
   0544 4F                  986 	orl	a,r7
                            987 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:210: return;
   0545 60 4C               988 	jz	00113$
   0547                     989 00109$:
                            990 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:214: packetbuf_set_addr(PACKETBUF_ADDR_SENDER, (rimeaddr_t *)&frame.src_addr);
   0547 E5 81               991 	mov	a,sp
   0549 24 CD               992 	add	a,#0xCD
   054B 24 15               993 	add	a,#0x15
   054D FF                  994 	mov	r7,a
   054E 7E 00               995 	mov	r6,#0x00
   0550 7D 40               996 	mov	r5,#0x40
   0552 C0 07               997 	push	ar7
   0554 C0 06               998 	push	ar6
   0556 C0 05               999 	push	ar5
   0558 75 82 18           1000 	mov	dpl,#0x18
   055B 78r00              1001 	mov	r0,#_packetbuf_set_addr
   055D 79s00              1002 	mov	r1,#(_packetbuf_set_addr >> 8)
   055F 7As00              1003 	mov	r2,#(_packetbuf_set_addr >> 16)
   0561 12s00r00           1004 	lcall	__sdcc_banked_call
   0564 15 81              1005 	dec	sp
   0566 15 81              1006 	dec	sp
   0568 15 81              1007 	dec	sp
                           1008 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:220: NETSTACK_MAC.input();
   056A 90s00r09           1009 	mov	dptr,#(_csma_driver + 0x0009)
   056D E4                 1010 	clr	a
   056E 93                 1011 	movc	a,@a+dptr
   056F FD                 1012 	mov	r5,a
   0570 A3                 1013 	inc	dptr
   0571 E4                 1014 	clr	a
   0572 93                 1015 	movc	a,@a+dptr
   0573 FE                 1016 	mov	r6,a
   0574 A3                 1017 	inc	dptr
   0575 E4                 1018 	clr	a
   0576 93                 1019 	movc	a,@a+dptr
   0577 FF                 1020 	mov	r7,a
   0578 C0 07              1021 	push	ar7
   057A C0 06              1022 	push	ar6
   057C C0 05              1023 	push	ar5
   057E C0 05              1024 	push	ar5
   0580 C0 06              1025 	push	ar6
   0582 C0 07              1026 	push	ar7
   0584 D0 02              1027 	pop	ar2
   0586 D0 01              1028 	pop	ar1
   0588 D0 00              1029 	pop	ar0
   058A 12s00r00           1030 	lcall	__sdcc_banked_call
   058D D0 05              1031 	pop	ar5
   058F D0 06              1032 	pop	ar6
   0591 D0 07              1033 	pop	ar7
   0593                    1034 00113$:
   0593 E5 81              1035 	mov	a,sp
   0595 24 CC              1036 	add	a,#0xCC
   0597 F5 81              1037 	mov	sp,a
   0599 02s00r00           1038 	ljmp	__sdcc_banked_ret
                           1039 ;------------------------------------------------------------
                           1040 ;Allocation info for local variables in function 'on'
                           1041 ;------------------------------------------------------------
                           1042 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:227: on(void)
                           1043 ;	-----------------------------------------
                           1044 ;	 function on
                           1045 ;	-----------------------------------------
   059C                    1046 _on:
                           1047 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:229: return NETSTACK_RADIO.on();
   059C 90s00r18           1048 	mov	dptr,#(_cc2530_rf_driver + 0x0018)
   059F E4                 1049 	clr	a
   05A0 93                 1050 	movc	a,@a+dptr
   05A1 FD                 1051 	mov	r5,a
   05A2 A3                 1052 	inc	dptr
   05A3 E4                 1053 	clr	a
   05A4 93                 1054 	movc	a,@a+dptr
   05A5 FE                 1055 	mov	r6,a
   05A6 A3                 1056 	inc	dptr
   05A7 E4                 1057 	clr	a
   05A8 93                 1058 	movc	a,@a+dptr
   05A9 FF                 1059 	mov	r7,a
   05AA C0 07              1060 	push	ar7
   05AC C0 05              1061 	push	ar5
   05AE C0 06              1062 	push	ar6
   05B0 C0 07              1063 	push	ar7
   05B2 D0 02              1064 	pop	ar2
   05B4 D0 01              1065 	pop	ar1
   05B6 D0 00              1066 	pop	ar0
   05B8 12s00r00           1067 	lcall	__sdcc_banked_call
   05BB AD 82              1068 	mov	r5,dpl
   05BD AE 83              1069 	mov	r6,dph
   05BF D0 07              1070 	pop	ar7
   05C1 8D 82              1071 	mov	dpl,r5
   05C3 8E 83              1072 	mov	dph,r6
   05C5 02s00r00           1073 	ljmp	__sdcc_banked_ret
                           1074 ;------------------------------------------------------------
                           1075 ;Allocation info for local variables in function 'off'
                           1076 ;------------------------------------------------------------
                           1077 ;keep_radio_on             Allocated to registers r6 r7 
                           1078 ;------------------------------------------------------------
                           1079 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:233: off(int keep_radio_on)
                           1080 ;	-----------------------------------------
                           1081 ;	 function off
                           1082 ;	-----------------------------------------
   05C8                    1083 _off:
   05C8 AE 82              1084 	mov	r6,dpl
   05CA AF 83              1085 	mov	r7,dph
                           1086 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:235: if(keep_radio_on) {
   05CC EE                 1087 	mov	a,r6
   05CD 4F                 1088 	orl	a,r7
   05CE 60 2B              1089 	jz	00102$
                           1090 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:236: return NETSTACK_RADIO.on();
   05D0 90s00r18           1091 	mov	dptr,#(_cc2530_rf_driver + 0x0018)
   05D3 E4                 1092 	clr	a
   05D4 93                 1093 	movc	a,@a+dptr
   05D5 FD                 1094 	mov	r5,a
   05D6 A3                 1095 	inc	dptr
   05D7 E4                 1096 	clr	a
   05D8 93                 1097 	movc	a,@a+dptr
   05D9 FE                 1098 	mov	r6,a
   05DA A3                 1099 	inc	dptr
   05DB E4                 1100 	clr	a
   05DC 93                 1101 	movc	a,@a+dptr
   05DD FF                 1102 	mov	r7,a
   05DE C0 07              1103 	push	ar7
   05E0 C0 05              1104 	push	ar5
   05E2 C0 06              1105 	push	ar6
   05E4 C0 07              1106 	push	ar7
   05E6 D0 02              1107 	pop	ar2
   05E8 D0 01              1108 	pop	ar1
   05EA D0 00              1109 	pop	ar0
   05EC 12s00r00           1110 	lcall	__sdcc_banked_call
   05EF AD 82              1111 	mov	r5,dpl
   05F1 AE 83              1112 	mov	r6,dph
   05F3 D0 07              1113 	pop	ar7
   05F5 8D 82              1114 	mov	dpl,r5
   05F7 8E 83              1115 	mov	dph,r6
   05F9 80 29              1116 	sjmp	00104$
   05FB                    1117 00102$:
                           1118 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:238: return NETSTACK_RADIO.off();
   05FB 90s00r1B           1119 	mov	dptr,#(_cc2530_rf_driver + 0x001b)
   05FE E4                 1120 	clr	a
   05FF 93                 1121 	movc	a,@a+dptr
   0600 FD                 1122 	mov	r5,a
   0601 A3                 1123 	inc	dptr
   0602 E4                 1124 	clr	a
   0603 93                 1125 	movc	a,@a+dptr
   0604 FE                 1126 	mov	r6,a
   0605 A3                 1127 	inc	dptr
   0606 E4                 1128 	clr	a
   0607 93                 1129 	movc	a,@a+dptr
   0608 FF                 1130 	mov	r7,a
   0609 C0 07              1131 	push	ar7
   060B C0 05              1132 	push	ar5
   060D C0 06              1133 	push	ar6
   060F C0 07              1134 	push	ar7
   0611 D0 02              1135 	pop	ar2
   0613 D0 01              1136 	pop	ar1
   0615 D0 00              1137 	pop	ar0
   0617 12s00r00           1138 	lcall	__sdcc_banked_call
   061A AD 82              1139 	mov	r5,dpl
   061C AE 83              1140 	mov	r6,dph
   061E D0 07              1141 	pop	ar7
   0620 8D 82              1142 	mov	dpl,r5
   0622 8E 83              1143 	mov	dph,r6
   0624                    1144 00104$:
   0624 02s00r00           1145 	ljmp	__sdcc_banked_ret
                           1146 ;------------------------------------------------------------
                           1147 ;Allocation info for local variables in function 'init'
                           1148 ;------------------------------------------------------------
                           1149 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:243: init(void)
                           1150 ;	-----------------------------------------
                           1151 ;	 function init
                           1152 ;	-----------------------------------------
   0627                    1153 _init:
                           1154 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:245: mac_dsn = random_rand() % 256;
   0627 78r00              1155 	mov	r0,#_random_rand
   0629 79s00              1156 	mov	r1,#(_random_rand >> 8)
   062B 7As00              1157 	mov	r2,#(_random_rand >> 16)
   062D 12s00r00           1158 	lcall	__sdcc_banked_call
   0630 E5 82              1159 	mov	a,dpl
   0632 85 83 F0           1160 	mov	b,dph
   0635 FE                 1161 	mov	r6,a
   0636 90s00r00           1162 	mov	dptr,#_mac_dsn
   0639 EE                 1163 	mov	a,r6
   063A F0                 1164 	movx	@dptr,a
                           1165 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:247: NETSTACK_RADIO.on();
   063B 90s00r18           1166 	mov	dptr,#(_cc2530_rf_driver + 0x0018)
   063E E4                 1167 	clr	a
   063F 93                 1168 	movc	a,@a+dptr
   0640 FD                 1169 	mov	r5,a
   0641 A3                 1170 	inc	dptr
   0642 E4                 1171 	clr	a
   0643 93                 1172 	movc	a,@a+dptr
   0644 FE                 1173 	mov	r6,a
   0645 A3                 1174 	inc	dptr
   0646 E4                 1175 	clr	a
   0647 93                 1176 	movc	a,@a+dptr
   0648 FF                 1177 	mov	r7,a
   0649 C0 07              1178 	push	ar7
   064B C0 06              1179 	push	ar6
   064D C0 05              1180 	push	ar5
   064F C0 05              1181 	push	ar5
   0651 C0 06              1182 	push	ar6
   0653 C0 07              1183 	push	ar7
   0655 D0 02              1184 	pop	ar2
   0657 D0 01              1185 	pop	ar1
   0659 D0 00              1186 	pop	ar0
   065B 12s00r00           1187 	lcall	__sdcc_banked_call
   065E D0 05              1188 	pop	ar5
   0660 D0 06              1189 	pop	ar6
   0662 D0 07              1190 	pop	ar7
   0664 02s00r00           1191 	ljmp	__sdcc_banked_ret
                           1192 ;------------------------------------------------------------
                           1193 ;Allocation info for local variables in function 'channel_check_interval'
                           1194 ;------------------------------------------------------------
                           1195 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:251: channel_check_interval(void)
                           1196 ;	-----------------------------------------
                           1197 ;	 function channel_check_interval
                           1198 ;	-----------------------------------------
   0667                    1199 _channel_check_interval:
                           1200 ;	../../../contiki-sensinode//core/net/mac/sicslowmac.c:253: return 0;
   0667 90 00 00           1201 	mov	dptr,#0x0000
   066A 02s00r00           1202 	ljmp	__sdcc_banked_ret
                           1203 	.area CSEG    (CODE)
                           1204 	.area CONST   (CODE)
   0000                    1205 _sicslowmac_driver:
   0000r18s00 80           1206 	.byte _str_0,(_str_0 >> 8),#0x80
   0003r27s06s00           1207 	.byte _init,(_init >> 8),(_init >> 16)
   0006r50s00s00           1208 	.byte _send_packet,(_send_packet >> 8),(_send_packet >> 16)
   0009r74s03s00           1209 	.byte _send_list,(_send_list >> 8),(_send_list >> 16)
   000CrEFs03s00           1210 	.byte _input_packet,(_input_packet >> 8),(_input_packet >> 16)
   000Fr9Cs05s00           1211 	.byte _on,(_on >> 8),(_on >> 16)
   0012rC8s05s00           1212 	.byte _off,(_off >> 8),(_off >> 16)
   0015r67s06s00           1213 	.byte _channel_check_interval,(_channel_check_interval >> 8),(_channel_check_interval >> 16)
   0018                    1214 _str_0:
   0018 73 69 63 73 6C 6F  1215 	.ascii "sicslowmac"
        77 6D 61 63
   0022 00                 1216 	.db 0x00
                           1217 	.area XINIT   (CODE)
   0000                    1218 __xinit__mac_dst_pan_id:
   0000 49 54              1219 	.byte #0x49,#0x54	; 21577
   0002                    1220 __xinit__mac_src_pan_id:
   0002 49 54              1221 	.byte #0x49,#0x54	; 21577
                           1222 	.area CABS    (ABS,CODE)
