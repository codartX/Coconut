                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.1.1 #7100 (Oct 29 2014) (Linux)
                              4 ; This file was generated Wed Dec  2 18:10:56 2015
                              5 ;--------------------------------------------------------
                              6 	.module mmem
                              7 	.optsdcc -mmcs51 --model-huge
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memmove
                             13 	.globl _list_remove
                             14 	.globl _list_add
                             15 	.globl _list_init
                             16 	.globl _avail_memory
                             17 	.globl _mmem_alloc
                             18 	.globl _mmem_free
                             19 	.globl _mmem_init
                             20 ;--------------------------------------------------------
                             21 ; special function registers
                             22 ;--------------------------------------------------------
                             23 	.area RSEG    (ABS,DATA)
   0000                      24 	.org 0x0000
                             25 ;--------------------------------------------------------
                             26 ; special function bits
                             27 ;--------------------------------------------------------
                             28 	.area RSEG    (ABS,DATA)
   0000                      29 	.org 0x0000
                             30 ;--------------------------------------------------------
                             31 ; overlayable register banks
                             32 ;--------------------------------------------------------
                             33 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      34 	.ds 8
                             35 ;--------------------------------------------------------
                             36 ; internal ram data
                             37 ;--------------------------------------------------------
                             38 	.area DSEG    (DATA)
                             39 ;--------------------------------------------------------
                             40 ; overlayable items in internal ram 
                             41 ;--------------------------------------------------------
                             42 	.area OSEG    (OVR,DATA)
                             43 ;--------------------------------------------------------
                             44 ; indirectly addressable internal ram data
                             45 ;--------------------------------------------------------
                             46 	.area ISEG    (DATA)
                             47 ;--------------------------------------------------------
                             48 ; absolute internal ram data
                             49 ;--------------------------------------------------------
                             50 	.area IABS    (ABS,DATA)
                             51 	.area IABS    (ABS,DATA)
                             52 ;--------------------------------------------------------
                             53 ; bit data
                             54 ;--------------------------------------------------------
                             55 	.area BSEG    (BIT)
                             56 ;--------------------------------------------------------
                             57 ; paged external ram data
                             58 ;--------------------------------------------------------
                             59 	.area PSEG    (PAG,XDATA)
                             60 ;--------------------------------------------------------
                             61 ; external ram data
                             62 ;--------------------------------------------------------
                             63 	.area XSEG    (XDATA)
   0000                      64 _avail_memory::
   0000                      65 	.ds 2
   0002                      66 _memory:
   0002                      67 	.ds 4096
                             68 ;--------------------------------------------------------
                             69 ; absolute external ram data
                             70 ;--------------------------------------------------------
                             71 	.area XABS    (ABS,XDATA)
                             72 ;--------------------------------------------------------
                             73 ; external initialized ram data
                             74 ;--------------------------------------------------------
                             75 	.area XISEG   (XDATA)
   0000                      76 _mmemlist_list:
   0000                      77 	.ds 3
   0003                      78 _mmemlist:
   0003                      79 	.ds 3
                             80 	.area HOME    (CODE)
                             81 	.area GSINIT0 (CODE)
                             82 	.area GSINIT1 (CODE)
                             83 	.area GSINIT2 (CODE)
                             84 	.area GSINIT3 (CODE)
                             85 	.area GSINIT4 (CODE)
                             86 	.area GSINIT5 (CODE)
                             87 	.area GSINIT  (CODE)
                             88 	.area GSFINAL (CODE)
                             89 	.area CSEG    (CODE)
                             90 ;--------------------------------------------------------
                             91 ; global & static initialisations
                             92 ;--------------------------------------------------------
                             93 	.area HOME    (CODE)
                             94 	.area GSINIT  (CODE)
                             95 	.area GSFINAL (CODE)
                             96 	.area GSINIT  (CODE)
                             97 ;--------------------------------------------------------
                             98 ; Home
                             99 ;--------------------------------------------------------
                            100 	.area HOME    (CODE)
                            101 	.area HOME    (CODE)
                            102 ;--------------------------------------------------------
                            103 ; code
                            104 ;--------------------------------------------------------
                            105 	.area BANK1   (CODE)
                            106 ;------------------------------------------------------------
                            107 ;Allocation info for local variables in function 'mmem_alloc'
                            108 ;------------------------------------------------------------
                            109 ;size                      Allocated to stack - sp -10
                            110 ;m                         Allocated to stack - sp -5
                            111 ;sloc0                     Allocated to stack - sp -2
                            112 ;------------------------------------------------------------
                            113 ;	../../../contiki-sensinode//core/lib/mmem.c:83: mmem_alloc(struct mmem *m, unsigned int size)
                            114 ;	-----------------------------------------
                            115 ;	 function mmem_alloc
                            116 ;	-----------------------------------------
   0000                     117 _mmem_alloc:
                    0007    118 	ar7 = 0x07
                    0006    119 	ar6 = 0x06
                    0005    120 	ar5 = 0x05
                    0004    121 	ar4 = 0x04
                    0003    122 	ar3 = 0x03
                    0002    123 	ar2 = 0x02
                    0001    124 	ar1 = 0x01
                    0000    125 	ar0 = 0x00
   0000 C0 82               126 	push	dpl
   0002 C0 83               127 	push	dph
   0004 C0 F0               128 	push	b
   0006 05 81               129 	inc	sp
   0008 05 81               130 	inc	sp
   000A 05 81               131 	inc	sp
                            132 ;	../../../contiki-sensinode//core/lib/mmem.c:86: if(avail_memory < size) {
   000C 90s00r00            133 	mov	dptr,#_avail_memory
   000F E0                  134 	movx	a,@dptr
   0010 FB                  135 	mov	r3,a
   0011 A3                  136 	inc	dptr
   0012 E0                  137 	movx	a,@dptr
   0013 FC                  138 	mov	r4,a
   0014 E5 81               139 	mov	a,sp
   0016 24 F6               140 	add	a,#0xf6
   0018 F8                  141 	mov	r0,a
   0019 C3                  142 	clr	c
   001A EB                  143 	mov	a,r3
   001B 96                  144 	subb	a,@r0
   001C EC                  145 	mov	a,r4
   001D 08                  146 	inc	r0
   001E 96                  147 	subb	a,@r0
   001F 50 06               148 	jnc	00102$
                            149 ;	../../../contiki-sensinode//core/lib/mmem.c:87: return 0;
   0021 90 00 00            150 	mov	dptr,#0x0000
   0024 02s00rDD            151 	ljmp	00103$
   0027                     152 00102$:
                            153 ;	../../../contiki-sensinode//core/lib/mmem.c:92: list_add(mmemlist, m);
   0027 E5 81               154 	mov	a,sp
   0029 24 FB               155 	add	a,#0xfb
   002B F8                  156 	mov	r0,a
   002C 86 02               157 	mov	ar2,@r0
   002E 08                  158 	inc	r0
   002F 86 03               159 	mov	ar3,@r0
   0031 08                  160 	inc	r0
   0032 86 04               161 	mov	ar4,@r0
   0034 90s00r03            162 	mov	dptr,#_mmemlist
   0037 E0                  163 	movx	a,@dptr
   0038 FD                  164 	mov	r5,a
   0039 A3                  165 	inc	dptr
   003A E0                  166 	movx	a,@dptr
   003B FE                  167 	mov	r6,a
   003C A3                  168 	inc	dptr
   003D E0                  169 	movx	a,@dptr
   003E FF                  170 	mov	r7,a
   003F C0 02               171 	push	ar2
   0041 C0 03               172 	push	ar3
   0043 C0 04               173 	push	ar4
   0045 8D 82               174 	mov	dpl,r5
   0047 8E 83               175 	mov	dph,r6
   0049 8F F0               176 	mov	b,r7
   004B 78r00               177 	mov	r0,#_list_add
   004D 79s00               178 	mov	r1,#(_list_add >> 8)
   004F 7As00               179 	mov	r2,#(_list_add >> 16)
   0051 12s00r00            180 	lcall	__sdcc_banked_call
   0054 15 81               181 	dec	sp
   0056 15 81               182 	dec	sp
   0058 15 81               183 	dec	sp
                            184 ;	../../../contiki-sensinode//core/lib/mmem.c:96: m->ptr = &memory[MMEM_SIZE - avail_memory];
   005A E5 81               185 	mov	a,sp
   005C 24 FB               186 	add	a,#0xfb
   005E F8                  187 	mov	r0,a
   005F A9 81               188 	mov	r1,sp
   0061 19                  189 	dec	r1
   0062 19                  190 	dec	r1
   0063 74 05               191 	mov	a,#0x05
   0065 26                  192 	add	a,@r0
   0066 F7                  193 	mov	@r1,a
   0067 E4                  194 	clr	a
   0068 08                  195 	inc	r0
   0069 36                  196 	addc	a,@r0
   006A 09                  197 	inc	r1
   006B F7                  198 	mov	@r1,a
   006C 08                  199 	inc	r0
   006D 09                  200 	inc	r1
   006E E6                  201 	mov	a,@r0
   006F F7                  202 	mov	@r1,a
   0070 90s00r00            203 	mov	dptr,#_avail_memory
   0073 E0                  204 	movx	a,@dptr
   0074 FB                  205 	mov	r3,a
   0075 A3                  206 	inc	dptr
   0076 E0                  207 	movx	a,@dptr
   0077 FC                  208 	mov	r4,a
   0078 E4                  209 	clr	a
   0079 C3                  210 	clr	c
   007A 9B                  211 	subb	a,r3
   007B FA                  212 	mov	r2,a
   007C 74 10               213 	mov	a,#0x10
   007E 9C                  214 	subb	a,r4
   007F FF                  215 	mov	r7,a
   0080 EA                  216 	mov	a,r2
   0081 24r02               217 	add	a,#_memory
   0083 FA                  218 	mov	r2,a
   0084 EF                  219 	mov	a,r7
   0085 34s00               220 	addc	a,#(_memory >> 8)
   0087 FF                  221 	mov	r7,a
   0088 7E 00               222 	mov	r6,#0x00
   008A A8 81               223 	mov	r0,sp
   008C 18                  224 	dec	r0
   008D 18                  225 	dec	r0
   008E 86 82               226 	mov	dpl,@r0
   0090 08                  227 	inc	r0
   0091 86 83               228 	mov	dph,@r0
   0093 08                  229 	inc	r0
   0094 86 F0               230 	mov	b,@r0
   0096 EA                  231 	mov	a,r2
   0097 12s00r00            232 	lcall	__gptrput
   009A A3                  233 	inc	dptr
   009B EF                  234 	mov	a,r7
   009C 12s00r00            235 	lcall	__gptrput
   009F A3                  236 	inc	dptr
   00A0 EE                  237 	mov	a,r6
   00A1 12s00r00            238 	lcall	__gptrput
                            239 ;	../../../contiki-sensinode//core/lib/mmem.c:99: m->size = size;
   00A4 E5 81               240 	mov	a,sp
   00A6 24 FB               241 	add	a,#0xfb
   00A8 F8                  242 	mov	r0,a
   00A9 74 03               243 	mov	a,#0x03
   00AB 26                  244 	add	a,@r0
   00AC FD                  245 	mov	r5,a
   00AD E4                  246 	clr	a
   00AE 08                  247 	inc	r0
   00AF 36                  248 	addc	a,@r0
   00B0 FE                  249 	mov	r6,a
   00B1 08                  250 	inc	r0
   00B2 86 07               251 	mov	ar7,@r0
   00B4 8D 82               252 	mov	dpl,r5
   00B6 8E 83               253 	mov	dph,r6
   00B8 8F F0               254 	mov	b,r7
   00BA E5 81               255 	mov	a,sp
   00BC 24 F6               256 	add	a,#0xf6
   00BE F8                  257 	mov	r0,a
   00BF E6                  258 	mov	a,@r0
   00C0 12s00r00            259 	lcall	__gptrput
   00C3 A3                  260 	inc	dptr
   00C4 08                  261 	inc	r0
   00C5 E6                  262 	mov	a,@r0
   00C6 12s00r00            263 	lcall	__gptrput
                            264 ;	../../../contiki-sensinode//core/lib/mmem.c:102: avail_memory -= size;
   00C9 E5 81               265 	mov	a,sp
   00CB 24 F6               266 	add	a,#0xf6
   00CD F8                  267 	mov	r0,a
   00CE 90s00r00            268 	mov	dptr,#_avail_memory
   00D1 EB                  269 	mov	a,r3
   00D2 C3                  270 	clr	c
   00D3 96                  271 	subb	a,@r0
   00D4 F0                  272 	movx	@dptr,a
   00D5 EC                  273 	mov	a,r4
   00D6 08                  274 	inc	r0
   00D7 96                  275 	subb	a,@r0
   00D8 A3                  276 	inc	dptr
   00D9 F0                  277 	movx	@dptr,a
                            278 ;	../../../contiki-sensinode//core/lib/mmem.c:106: return 1;
   00DA 90 00 01            279 	mov	dptr,#0x0001
   00DD                     280 00103$:
   00DD E5 81               281 	mov	a,sp
   00DF 24 FA               282 	add	a,#0xFA
   00E1 F5 81               283 	mov	sp,a
   00E3 02s00r00            284 	ljmp	__sdcc_banked_ret
                            285 ;------------------------------------------------------------
                            286 ;Allocation info for local variables in function 'mmem_free'
                            287 ;------------------------------------------------------------
                            288 ;m                         Allocated to stack - sp -13
                            289 ;n                         Allocated to stack - sp -10
                            290 ;sloc0                     Allocated to stack - sp -7
                            291 ;sloc1                     Allocated to stack - sp -5
                            292 ;sloc2                     Allocated to stack - sp -2
                            293 ;------------------------------------------------------------
                            294 ;	../../../contiki-sensinode//core/lib/mmem.c:119: mmem_free(struct mmem *m)
                            295 ;	-----------------------------------------
                            296 ;	 function mmem_free
                            297 ;	-----------------------------------------
   00E6                     298 _mmem_free:
   00E6 C0 82               299 	push	dpl
   00E8 C0 83               300 	push	dph
   00EA C0 F0               301 	push	b
   00EC E5 81               302 	mov	a,sp
   00EE 24 0B               303 	add	a,#0x0B
                            304 ;	../../../contiki-sensinode//core/lib/mmem.c:123: if(m->next != NULL) {
   00F0 F5 81               305 	mov	sp,a
   00F2 24 F3               306 	add	a,#0xf3
   00F4 F8                  307 	mov	r0,a
   00F5 86 82               308 	mov	dpl,@r0
   00F7 08                  309 	inc	r0
   00F8 86 83               310 	mov	dph,@r0
   00FA 08                  311 	inc	r0
   00FB 86 F0               312 	mov	b,@r0
   00FD 12s00r00            313 	lcall	__gptrget
   0100 FA                  314 	mov	r2,a
   0101 A3                  315 	inc	dptr
   0102 12s00r00            316 	lcall	__gptrget
   0105 FB                  317 	mov	r3,a
   0106 A3                  318 	inc	dptr
   0107 12s00r00            319 	lcall	__gptrget
   010A FC                  320 	mov	r4,a
   010B EA                  321 	mov	a,r2
   010C 4B                  322 	orl	a,r3
   010D 70 03               323 	jnz	00115$
   010F 02s02r9F            324 	ljmp	00102$
   0112                     325 00115$:
                            326 ;	../../../contiki-sensinode//core/lib/mmem.c:127: &memory[MMEM_SIZE - avail_memory] - (char *)m->next->ptr);
   0112 90s00r00            327 	mov	dptr,#_avail_memory
   0115 E0                  328 	movx	a,@dptr
   0116 FE                  329 	mov	r6,a
   0117 A3                  330 	inc	dptr
   0118 E0                  331 	movx	a,@dptr
   0119 FF                  332 	mov	r7,a
   011A E4                  333 	clr	a
   011B C3                  334 	clr	c
   011C 9E                  335 	subb	a,r6
   011D FE                  336 	mov	r6,a
   011E 74 10               337 	mov	a,#0x10
   0120 9F                  338 	subb	a,r7
   0121 FF                  339 	mov	r7,a
   0122 E5 81               340 	mov	a,sp
   0124 24 F9               341 	add	a,#0xf9
   0126 F8                  342 	mov	r0,a
   0127 EE                  343 	mov	a,r6
   0128 24r02               344 	add	a,#_memory
   012A F6                  345 	mov	@r0,a
   012B EF                  346 	mov	a,r7
   012C 34s00               347 	addc	a,#(_memory >> 8)
   012E 08                  348 	inc	r0
   012F F6                  349 	mov	@r0,a
   0130 74 05               350 	mov	a,#0x05
   0132 2A                  351 	add	a,r2
   0133 FA                  352 	mov	r2,a
   0134 E4                  353 	clr	a
   0135 3B                  354 	addc	a,r3
   0136 FB                  355 	mov	r3,a
   0137 8A 82               356 	mov	dpl,r2
   0139 8B 83               357 	mov	dph,r3
   013B 8C F0               358 	mov	b,r4
   013D 12s00r00            359 	lcall	__gptrget
   0140 FA                  360 	mov	r2,a
   0141 A3                  361 	inc	dptr
   0142 12s00r00            362 	lcall	__gptrget
   0145 FB                  363 	mov	r3,a
   0146 A3                  364 	inc	dptr
   0147 12s00r00            365 	lcall	__gptrget
   014A FC                  366 	mov	r4,a
   014B 8A 05               367 	mov	ar5,r2
   014D 8B 06               368 	mov	ar6,r3
   014F 8C 07               369 	mov	ar7,r4
   0151 E5 81               370 	mov	a,sp
   0153 24 F9               371 	add	a,#0xf9
   0155 F8                  372 	mov	r0,a
   0156 E6                  373 	mov	a,@r0
   0157 C3                  374 	clr	c
   0158 9D                  375 	subb	a,r5
   0159 FD                  376 	mov	r5,a
   015A 08                  377 	inc	r0
   015B E6                  378 	mov	a,@r0
   015C 9E                  379 	subb	a,r6
   015D FE                  380 	mov	r6,a
   015E E5 81               381 	mov	a,sp
   0160 24 F9               382 	add	a,#0xf9
   0162 F8                  383 	mov	r0,a
   0163 A6 05               384 	mov	@r0,ar5
   0165 08                  385 	inc	r0
   0166 A6 06               386 	mov	@r0,ar6
                            387 ;	../../../contiki-sensinode//core/lib/mmem.c:126: memmove(m->ptr, m->next->ptr,
   0168 E5 81               388 	mov	a,sp
   016A 24 F3               389 	add	a,#0xf3
   016C F8                  390 	mov	r0,a
   016D 74 05               391 	mov	a,#0x05
   016F 26                  392 	add	a,@r0
   0170 FD                  393 	mov	r5,a
   0171 E4                  394 	clr	a
   0172 08                  395 	inc	r0
   0173 36                  396 	addc	a,@r0
   0174 FE                  397 	mov	r6,a
   0175 08                  398 	inc	r0
   0176 86 07               399 	mov	ar7,@r0
   0178 8D 82               400 	mov	dpl,r5
   017A 8E 83               401 	mov	dph,r6
   017C 8F F0               402 	mov	b,r7
   017E 12s00r00            403 	lcall	__gptrget
   0181 FD                  404 	mov	r5,a
   0182 A3                  405 	inc	dptr
   0183 12s00r00            406 	lcall	__gptrget
   0186 FE                  407 	mov	r6,a
   0187 A3                  408 	inc	dptr
   0188 12s00r00            409 	lcall	__gptrget
   018B FF                  410 	mov	r7,a
   018C E5 81               411 	mov	a,sp
   018E 24 F9               412 	add	a,#0xf9
   0190 F8                  413 	mov	r0,a
   0191 E6                  414 	mov	a,@r0
   0192 C0 E0               415 	push	acc
   0194 08                  416 	inc	r0
   0195 E6                  417 	mov	a,@r0
   0196 C0 E0               418 	push	acc
   0198 C0 02               419 	push	ar2
   019A C0 03               420 	push	ar3
   019C C0 04               421 	push	ar4
   019E 8D 82               422 	mov	dpl,r5
   01A0 8E 83               423 	mov	dph,r6
   01A2 8F F0               424 	mov	b,r7
   01A4 78r00               425 	mov	r0,#_memmove
   01A6 79s00               426 	mov	r1,#(_memmove >> 8)
   01A8 7As00               427 	mov	r2,#(_memmove >> 16)
   01AA 12s00r00            428 	lcall	__sdcc_banked_call
   01AD E5 81               429 	mov	a,sp
   01AF 24 FB               430 	add	a,#0xfb
                            431 ;	../../../contiki-sensinode//core/lib/mmem.c:131: for(n = m->next; n != NULL; n = n->next) {
   01B1 F5 81               432 	mov	sp,a
   01B3 24 F3               433 	add	a,#0xf3
   01B5 F8                  434 	mov	r0,a
   01B6 86 82               435 	mov	dpl,@r0
   01B8 08                  436 	inc	r0
   01B9 86 83               437 	mov	dph,@r0
   01BB 08                  438 	inc	r0
   01BC 86 F0               439 	mov	b,@r0
   01BE 12s00r00            440 	lcall	__gptrget
   01C1 FD                  441 	mov	r5,a
   01C2 A3                  442 	inc	dptr
   01C3 12s00r00            443 	lcall	__gptrget
   01C6 FE                  444 	mov	r6,a
   01C7 A3                  445 	inc	dptr
   01C8 12s00r00            446 	lcall	__gptrget
   01CB FF                  447 	mov	r7,a
   01CC E5 81               448 	mov	a,sp
   01CE 24 F6               449 	add	a,#0xf6
   01D0 F8                  450 	mov	r0,a
   01D1 A6 05               451 	mov	@r0,ar5
   01D3 08                  452 	inc	r0
   01D4 A6 06               453 	mov	@r0,ar6
   01D6 08                  454 	inc	r0
   01D7 A6 07               455 	mov	@r0,ar7
   01D9 E5 81               456 	mov	a,sp
   01DB 24 F3               457 	add	a,#0xf3
   01DD F8                  458 	mov	r0,a
   01DE E5 81               459 	mov	a,sp
   01E0 24 FB               460 	add	a,#0xfb
   01E2 F9                  461 	mov	r1,a
   01E3 74 03               462 	mov	a,#0x03
   01E5 26                  463 	add	a,@r0
   01E6 F7                  464 	mov	@r1,a
   01E7 E4                  465 	clr	a
   01E8 08                  466 	inc	r0
   01E9 36                  467 	addc	a,@r0
   01EA 09                  468 	inc	r1
   01EB F7                  469 	mov	@r1,a
   01EC 08                  470 	inc	r0
   01ED 09                  471 	inc	r1
   01EE E6                  472 	mov	a,@r0
   01EF F7                  473 	mov	@r1,a
   01F0                     474 00103$:
   01F0 E5 81               475 	mov	a,sp
   01F2 24 F6               476 	add	a,#0xf6
   01F4 F8                  477 	mov	r0,a
   01F5 E4                  478 	clr	a
   01F6 C0 E0               479 	push	acc
   01F8 E4                  480 	clr	a
   01F9 C0 E0               481 	push	acc
   01FB E4                  482 	clr	a
   01FC C0 E0               483 	push	acc
   01FE 86 82               484 	mov	dpl,@r0
   0200 08                  485 	inc	r0
   0201 86 83               486 	mov	dph,@r0
   0203 08                  487 	inc	r0
   0204 86 F0               488 	mov	b,@r0
   0206 12s00r00            489 	lcall	___gptr_cmp
   0209 15 81               490 	dec	sp
   020B 15 81               491 	dec	sp
   020D 15 81               492 	dec	sp
   020F 70 03               493 	jnz	00116$
   0211 02s02r9F            494 	ljmp	00102$
   0214                     495 00116$:
                            496 ;	../../../contiki-sensinode//core/lib/mmem.c:132: n->ptr = (void *)((char *)n->ptr - m->size);
   0214 E5 81               497 	mov	a,sp
   0216 24 F6               498 	add	a,#0xf6
   0218 F8                  499 	mov	r0,a
   0219 74 05               500 	mov	a,#0x05
   021B 26                  501 	add	a,@r0
   021C FD                  502 	mov	r5,a
   021D E4                  503 	clr	a
   021E 08                  504 	inc	r0
   021F 36                  505 	addc	a,@r0
   0220 FE                  506 	mov	r6,a
   0221 08                  507 	inc	r0
   0222 86 07               508 	mov	ar7,@r0
   0224 8D 82               509 	mov	dpl,r5
   0226 8E 83               510 	mov	dph,r6
   0228 8F F0               511 	mov	b,r7
   022A 12s00r00            512 	lcall	__gptrget
   022D FA                  513 	mov	r2,a
   022E A3                  514 	inc	dptr
   022F 12s00r00            515 	lcall	__gptrget
   0232 FB                  516 	mov	r3,a
   0233 A3                  517 	inc	dptr
   0234 12s00r00            518 	lcall	__gptrget
   0237 FC                  519 	mov	r4,a
   0238 A8 81               520 	mov	r0,sp
   023A 18                  521 	dec	r0
   023B 18                  522 	dec	r0
   023C A6 02               523 	mov	@r0,ar2
   023E 08                  524 	inc	r0
   023F A6 03               525 	mov	@r0,ar3
   0241 08                  526 	inc	r0
   0242 A6 04               527 	mov	@r0,ar4
   0244 E5 81               528 	mov	a,sp
   0246 24 FB               529 	add	a,#0xfb
   0248 F8                  530 	mov	r0,a
   0249 86 82               531 	mov	dpl,@r0
   024B 08                  532 	inc	r0
   024C 86 83               533 	mov	dph,@r0
   024E 08                  534 	inc	r0
   024F 86 F0               535 	mov	b,@r0
   0251 12s00r00            536 	lcall	__gptrget
   0254 FB                  537 	mov	r3,a
   0255 A3                  538 	inc	dptr
   0256 12s00r00            539 	lcall	__gptrget
   0259 FC                  540 	mov	r4,a
   025A A8 81               541 	mov	r0,sp
   025C 18                  542 	dec	r0
   025D 18                  543 	dec	r0
   025E E6                  544 	mov	a,@r0
   025F C3                  545 	clr	c
   0260 9B                  546 	subb	a,r3
   0261 FB                  547 	mov	r3,a
   0262 08                  548 	inc	r0
   0263 E6                  549 	mov	a,@r0
   0264 9C                  550 	subb	a,r4
   0265 FC                  551 	mov	r4,a
   0266 08                  552 	inc	r0
   0267 86 02               553 	mov	ar2,@r0
   0269 8D 82               554 	mov	dpl,r5
   026B 8E 83               555 	mov	dph,r6
   026D 8F F0               556 	mov	b,r7
   026F EB                  557 	mov	a,r3
   0270 12s00r00            558 	lcall	__gptrput
   0273 A3                  559 	inc	dptr
   0274 EC                  560 	mov	a,r4
   0275 12s00r00            561 	lcall	__gptrput
   0278 A3                  562 	inc	dptr
   0279 EA                  563 	mov	a,r2
   027A 12s00r00            564 	lcall	__gptrput
                            565 ;	../../../contiki-sensinode//core/lib/mmem.c:131: for(n = m->next; n != NULL; n = n->next) {
   027D E5 81               566 	mov	a,sp
   027F 24 F6               567 	add	a,#0xf6
   0281 F8                  568 	mov	r0,a
   0282 86 82               569 	mov	dpl,@r0
   0284 08                  570 	inc	r0
   0285 86 83               571 	mov	dph,@r0
   0287 08                  572 	inc	r0
   0288 86 F0               573 	mov	b,@r0
   028A 12s00r00            574 	lcall	__gptrget
   028D 18                  575 	dec	r0
   028E 18                  576 	dec	r0
   028F F6                  577 	mov	@r0,a
   0290 A3                  578 	inc	dptr
   0291 12s00r00            579 	lcall	__gptrget
   0294 08                  580 	inc	r0
   0295 F6                  581 	mov	@r0,a
   0296 A3                  582 	inc	dptr
   0297 12s00r00            583 	lcall	__gptrget
   029A 08                  584 	inc	r0
   029B F6                  585 	mov	@r0,a
   029C 02s01rF0            586 	ljmp	00103$
   029F                     587 00102$:
                            588 ;	../../../contiki-sensinode//core/lib/mmem.c:136: avail_memory += m->size;
   029F E5 81               589 	mov	a,sp
   02A1 24 F3               590 	add	a,#0xf3
   02A3 F8                  591 	mov	r0,a
   02A4 74 03               592 	mov	a,#0x03
   02A6 26                  593 	add	a,@r0
   02A7 FD                  594 	mov	r5,a
   02A8 E4                  595 	clr	a
   02A9 08                  596 	inc	r0
   02AA 36                  597 	addc	a,@r0
   02AB FE                  598 	mov	r6,a
   02AC 08                  599 	inc	r0
   02AD 86 07               600 	mov	ar7,@r0
   02AF 8D 82               601 	mov	dpl,r5
   02B1 8E 83               602 	mov	dph,r6
   02B3 8F F0               603 	mov	b,r7
   02B5 12s00r00            604 	lcall	__gptrget
   02B8 FD                  605 	mov	r5,a
   02B9 A3                  606 	inc	dptr
   02BA 12s00r00            607 	lcall	__gptrget
   02BD FE                  608 	mov	r6,a
   02BE 90s00r00            609 	mov	dptr,#_avail_memory
   02C1 E0                  610 	movx	a,@dptr
   02C2 FC                  611 	mov	r4,a
   02C3 A3                  612 	inc	dptr
   02C4 E0                  613 	movx	a,@dptr
   02C5 FF                  614 	mov	r7,a
   02C6 90s00r00            615 	mov	dptr,#_avail_memory
   02C9 ED                  616 	mov	a,r5
   02CA 2C                  617 	add	a,r4
   02CB F0                  618 	movx	@dptr,a
   02CC EE                  619 	mov	a,r6
   02CD 3F                  620 	addc	a,r7
   02CE A3                  621 	inc	dptr
   02CF F0                  622 	movx	@dptr,a
                            623 ;	../../../contiki-sensinode//core/lib/mmem.c:139: list_remove(mmemlist, m);
   02D0 E5 81               624 	mov	a,sp
   02D2 24 F3               625 	add	a,#0xf3
   02D4 F8                  626 	mov	r0,a
   02D5 86 05               627 	mov	ar5,@r0
   02D7 08                  628 	inc	r0
   02D8 86 06               629 	mov	ar6,@r0
   02DA 08                  630 	inc	r0
   02DB 86 07               631 	mov	ar7,@r0
   02DD 90s00r03            632 	mov	dptr,#_mmemlist
   02E0 E0                  633 	movx	a,@dptr
   02E1 FA                  634 	mov	r2,a
   02E2 A3                  635 	inc	dptr
   02E3 E0                  636 	movx	a,@dptr
   02E4 FB                  637 	mov	r3,a
   02E5 A3                  638 	inc	dptr
   02E6 E0                  639 	movx	a,@dptr
   02E7 FC                  640 	mov	r4,a
   02E8 C0 05               641 	push	ar5
   02EA C0 06               642 	push	ar6
   02EC C0 07               643 	push	ar7
   02EE 8A 82               644 	mov	dpl,r2
   02F0 8B 83               645 	mov	dph,r3
   02F2 8C F0               646 	mov	b,r4
   02F4 78r00               647 	mov	r0,#_list_remove
   02F6 79s00               648 	mov	r1,#(_list_remove >> 8)
   02F8 7As00               649 	mov	r2,#(_list_remove >> 16)
   02FA 12s00r00            650 	lcall	__sdcc_banked_call
   02FD 15 81               651 	dec	sp
   02FF 15 81               652 	dec	sp
   0301 15 81               653 	dec	sp
   0303 E5 81               654 	mov	a,sp
   0305 24 F2               655 	add	a,#0xF2
   0307 F5 81               656 	mov	sp,a
   0309 02s00r00            657 	ljmp	__sdcc_banked_ret
                            658 ;------------------------------------------------------------
                            659 ;Allocation info for local variables in function 'mmem_init'
                            660 ;------------------------------------------------------------
                            661 ;	../../../contiki-sensinode//core/lib/mmem.c:152: mmem_init(void)
                            662 ;	-----------------------------------------
                            663 ;	 function mmem_init
                            664 ;	-----------------------------------------
   030C                     665 _mmem_init:
                            666 ;	../../../contiki-sensinode//core/lib/mmem.c:154: list_init(mmemlist);
   030C 90s00r03            667 	mov	dptr,#_mmemlist
   030F E0                  668 	movx	a,@dptr
   0310 FD                  669 	mov	r5,a
   0311 A3                  670 	inc	dptr
   0312 E0                  671 	movx	a,@dptr
   0313 FE                  672 	mov	r6,a
   0314 A3                  673 	inc	dptr
   0315 E0                  674 	movx	a,@dptr
   0316 FF                  675 	mov	r7,a
   0317 8D 82               676 	mov	dpl,r5
   0319 8E 83               677 	mov	dph,r6
   031B 8F F0               678 	mov	b,r7
   031D 78r00               679 	mov	r0,#_list_init
   031F 79s00               680 	mov	r1,#(_list_init >> 8)
   0321 7As00               681 	mov	r2,#(_list_init >> 16)
   0323 12s00r00            682 	lcall	__sdcc_banked_call
                            683 ;	../../../contiki-sensinode//core/lib/mmem.c:155: avail_memory = MMEM_SIZE;
   0326 90s00r00            684 	mov	dptr,#_avail_memory
   0329 E4                  685 	clr	a
   032A F0                  686 	movx	@dptr,a
   032B A3                  687 	inc	dptr
   032C 74 10               688 	mov	a,#0x10
   032E F0                  689 	movx	@dptr,a
   032F 02s00r00            690 	ljmp	__sdcc_banked_ret
                            691 	.area CSEG    (CODE)
                            692 	.area CONST   (CODE)
                            693 	.area XINIT   (CODE)
   0000                     694 __xinit__mmemlist_list:
                            695 ; generic printIvalPtr
   0000 00 00 00            696 	.byte #0x00,#0x00,#0x00
   0003                     697 __xinit__mmemlist:
   0003r00s00 00            698 	.byte _mmemlist_list,(_mmemlist_list >> 8),#0x00
                            699 	.area CABS    (ABS,CODE)
