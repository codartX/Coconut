                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.1.1 #7100 (Oct 29 2014) (Linux)
                              4 ; This file was generated Wed Dec  2 18:10:50 2015
                              5 ;--------------------------------------------------------
                              6 	.module nullmac
                              7 	.optsdcc -mmcs51 --model-huge
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _nullmac_driver
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 	.area RSEG    (ABS,DATA)
   0000                      17 	.org 0x0000
                             18 ;--------------------------------------------------------
                             19 ; special function bits
                             20 ;--------------------------------------------------------
                             21 	.area RSEG    (ABS,DATA)
   0000                      22 	.org 0x0000
                             23 ;--------------------------------------------------------
                             24 ; overlayable register banks
                             25 ;--------------------------------------------------------
                             26 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      27 	.ds 8
                             28 ;--------------------------------------------------------
                             29 ; internal ram data
                             30 ;--------------------------------------------------------
                             31 	.area DSEG    (DATA)
                             32 ;--------------------------------------------------------
                             33 ; overlayable items in internal ram 
                             34 ;--------------------------------------------------------
                             35 	.area OSEG    (OVR,DATA)
                             36 ;--------------------------------------------------------
                             37 ; indirectly addressable internal ram data
                             38 ;--------------------------------------------------------
                             39 	.area ISEG    (DATA)
                             40 ;--------------------------------------------------------
                             41 ; absolute internal ram data
                             42 ;--------------------------------------------------------
                             43 	.area IABS    (ABS,DATA)
                             44 	.area IABS    (ABS,DATA)
                             45 ;--------------------------------------------------------
                             46 ; bit data
                             47 ;--------------------------------------------------------
                             48 	.area BSEG    (BIT)
                             49 ;--------------------------------------------------------
                             50 ; paged external ram data
                             51 ;--------------------------------------------------------
                             52 	.area PSEG    (PAG,XDATA)
                             53 ;--------------------------------------------------------
                             54 ; external ram data
                             55 ;--------------------------------------------------------
                             56 	.area XSEG    (XDATA)
                             57 ;--------------------------------------------------------
                             58 ; absolute external ram data
                             59 ;--------------------------------------------------------
                             60 	.area XABS    (ABS,XDATA)
                             61 ;--------------------------------------------------------
                             62 ; external initialized ram data
                             63 ;--------------------------------------------------------
                             64 	.area XISEG   (XDATA)
                             65 	.area HOME    (CODE)
                             66 	.area GSINIT0 (CODE)
                             67 	.area GSINIT1 (CODE)
                             68 	.area GSINIT2 (CODE)
                             69 	.area GSINIT3 (CODE)
                             70 	.area GSINIT4 (CODE)
                             71 	.area GSINIT5 (CODE)
                             72 	.area GSINIT  (CODE)
                             73 	.area GSFINAL (CODE)
                             74 	.area CSEG    (CODE)
                             75 ;--------------------------------------------------------
                             76 ; global & static initialisations
                             77 ;--------------------------------------------------------
                             78 	.area HOME    (CODE)
                             79 	.area GSINIT  (CODE)
                             80 	.area GSFINAL (CODE)
                             81 	.area GSINIT  (CODE)
                             82 ;--------------------------------------------------------
                             83 ; Home
                             84 ;--------------------------------------------------------
                             85 	.area HOME    (CODE)
                             86 	.area HOME    (CODE)
                             87 ;--------------------------------------------------------
                             88 ; code
                             89 ;--------------------------------------------------------
                             90 	.area BANK1   (CODE)
                             91 ;------------------------------------------------------------
                             92 ;Allocation info for local variables in function 'send_packet'
                             93 ;------------------------------------------------------------
                             94 ;ptr                       Allocated to stack - sp -5
                             95 ;sent                      Allocated to registers r5 r6 r7 
                             96 ;------------------------------------------------------------
                             97 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:46: send_packet(mac_callback_t sent, void *ptr)
                             98 ;	-----------------------------------------
                             99 ;	 function send_packet
                            100 ;	-----------------------------------------
   0000                     101 _send_packet:
                    0007    102 	ar7 = 0x07
                    0006    103 	ar6 = 0x06
                    0005    104 	ar5 = 0x05
                    0004    105 	ar4 = 0x04
                    0003    106 	ar3 = 0x03
                    0002    107 	ar2 = 0x02
                    0001    108 	ar1 = 0x01
                    0000    109 	ar0 = 0x00
   0000 AD 82               110 	mov	r5,dpl
   0002 AE 83               111 	mov	r6,dph
   0004 AF F0               112 	mov	r7,b
                            113 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:48: NETSTACK_RDC.send(sent, ptr);
   0006 90s00r06            114 	mov	dptr,#(_nullrdc_driver + 0x0006)
   0009 E4                  115 	clr	a
   000A 93                  116 	movc	a,@a+dptr
   000B FA                  117 	mov	r2,a
   000C A3                  118 	inc	dptr
   000D E4                  119 	clr	a
   000E 93                  120 	movc	a,@a+dptr
   000F FB                  121 	mov	r3,a
   0010 A3                  122 	inc	dptr
   0011 E4                  123 	clr	a
   0012 93                  124 	movc	a,@a+dptr
   0013 FC                  125 	mov	r4,a
   0014 C0 04               126 	push	ar4
   0016 C0 03               127 	push	ar3
   0018 C0 02               128 	push	ar2
   001A E5 81               129 	mov	a,sp
   001C 24 F8               130 	add	a,#0xf8
   001E F8                  131 	mov	r0,a
   001F E6                  132 	mov	a,@r0
   0020 C0 E0               133 	push	acc
   0022 08                  134 	inc	r0
   0023 E6                  135 	mov	a,@r0
   0024 C0 E0               136 	push	acc
   0026 08                  137 	inc	r0
   0027 E6                  138 	mov	a,@r0
   0028 C0 E0               139 	push	acc
   002A C0 02               140 	push	ar2
   002C C0 03               141 	push	ar3
   002E C0 04               142 	push	ar4
   0030 8D 82               143 	mov	dpl,r5
   0032 8E 83               144 	mov	dph,r6
   0034 8F F0               145 	mov	b,r7
   0036 D0 02               146 	pop	ar2
   0038 D0 01               147 	pop	ar1
   003A D0 00               148 	pop	ar0
   003C 12s00r00            149 	lcall	__sdcc_banked_call
   003F 15 81               150 	dec	sp
   0041 15 81               151 	dec	sp
   0043 15 81               152 	dec	sp
   0045 D0 02               153 	pop	ar2
   0047 D0 03               154 	pop	ar3
   0049 D0 04               155 	pop	ar4
   004B 02s00r00            156 	ljmp	__sdcc_banked_ret
                            157 ;------------------------------------------------------------
                            158 ;Allocation info for local variables in function 'packet_input'
                            159 ;------------------------------------------------------------
                            160 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:52: packet_input(void)
                            161 ;	-----------------------------------------
                            162 ;	 function packet_input
                            163 ;	-----------------------------------------
   004E                     164 _packet_input:
                            165 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:54: NETSTACK_NETWORK.input();
   004E 90s00r06            166 	mov	dptr,#(_sicslowpan_driver + 0x0006)
   0051 E4                  167 	clr	a
   0052 93                  168 	movc	a,@a+dptr
   0053 FD                  169 	mov	r5,a
   0054 A3                  170 	inc	dptr
   0055 E4                  171 	clr	a
   0056 93                  172 	movc	a,@a+dptr
   0057 FE                  173 	mov	r6,a
   0058 A3                  174 	inc	dptr
   0059 E4                  175 	clr	a
   005A 93                  176 	movc	a,@a+dptr
   005B FF                  177 	mov	r7,a
   005C C0 07               178 	push	ar7
   005E C0 06               179 	push	ar6
   0060 C0 05               180 	push	ar5
   0062 C0 05               181 	push	ar5
   0064 C0 06               182 	push	ar6
   0066 C0 07               183 	push	ar7
   0068 D0 02               184 	pop	ar2
   006A D0 01               185 	pop	ar1
   006C D0 00               186 	pop	ar0
   006E 12s00r00            187 	lcall	__sdcc_banked_call
   0071 D0 05               188 	pop	ar5
   0073 D0 06               189 	pop	ar6
   0075 D0 07               190 	pop	ar7
   0077 02s00r00            191 	ljmp	__sdcc_banked_ret
                            192 ;------------------------------------------------------------
                            193 ;Allocation info for local variables in function 'on'
                            194 ;------------------------------------------------------------
                            195 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:58: on(void)
                            196 ;	-----------------------------------------
                            197 ;	 function on
                            198 ;	-----------------------------------------
   007A                     199 _on:
                            200 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:60: return NETSTACK_RDC.on();
   007A 90s00r0F            201 	mov	dptr,#(_nullrdc_driver + 0x000f)
   007D E4                  202 	clr	a
   007E 93                  203 	movc	a,@a+dptr
   007F FD                  204 	mov	r5,a
   0080 A3                  205 	inc	dptr
   0081 E4                  206 	clr	a
   0082 93                  207 	movc	a,@a+dptr
   0083 FE                  208 	mov	r6,a
   0084 A3                  209 	inc	dptr
   0085 E4                  210 	clr	a
   0086 93                  211 	movc	a,@a+dptr
   0087 FF                  212 	mov	r7,a
   0088 C0 07               213 	push	ar7
   008A C0 05               214 	push	ar5
   008C C0 06               215 	push	ar6
   008E C0 07               216 	push	ar7
   0090 D0 02               217 	pop	ar2
   0092 D0 01               218 	pop	ar1
   0094 D0 00               219 	pop	ar0
   0096 12s00r00            220 	lcall	__sdcc_banked_call
   0099 AD 82               221 	mov	r5,dpl
   009B AE 83               222 	mov	r6,dph
   009D D0 07               223 	pop	ar7
   009F 8D 82               224 	mov	dpl,r5
   00A1 8E 83               225 	mov	dph,r6
   00A3 02s00r00            226 	ljmp	__sdcc_banked_ret
                            227 ;------------------------------------------------------------
                            228 ;Allocation info for local variables in function 'off'
                            229 ;------------------------------------------------------------
                            230 ;keep_radio_on             Allocated to registers r6 r7 
                            231 ;------------------------------------------------------------
                            232 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:64: off(int keep_radio_on)
                            233 ;	-----------------------------------------
                            234 ;	 function off
                            235 ;	-----------------------------------------
   00A6                     236 _off:
   00A6 AE 82               237 	mov	r6,dpl
   00A8 AF 83               238 	mov	r7,dph
                            239 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:66: return NETSTACK_RDC.off(keep_radio_on);
   00AA 90s00r12            240 	mov	dptr,#(_nullrdc_driver + 0x0012)
   00AD E4                  241 	clr	a
   00AE 93                  242 	movc	a,@a+dptr
   00AF FB                  243 	mov	r3,a
   00B0 A3                  244 	inc	dptr
   00B1 E4                  245 	clr	a
   00B2 93                  246 	movc	a,@a+dptr
   00B3 FC                  247 	mov	r4,a
   00B4 A3                  248 	inc	dptr
   00B5 E4                  249 	clr	a
   00B6 93                  250 	movc	a,@a+dptr
   00B7 FD                  251 	mov	r5,a
   00B8 C0 05               252 	push	ar5
   00BA C0 03               253 	push	ar3
   00BC C0 04               254 	push	ar4
   00BE C0 05               255 	push	ar5
   00C0 8E 82               256 	mov	dpl,r6
   00C2 8F 83               257 	mov	dph,r7
   00C4 D0 02               258 	pop	ar2
   00C6 D0 01               259 	pop	ar1
   00C8 D0 00               260 	pop	ar0
   00CA 12s00r00            261 	lcall	__sdcc_banked_call
   00CD AB 82               262 	mov	r3,dpl
   00CF AC 83               263 	mov	r4,dph
   00D1 D0 05               264 	pop	ar5
   00D3 8B 82               265 	mov	dpl,r3
   00D5 8C 83               266 	mov	dph,r4
   00D7 02s00r00            267 	ljmp	__sdcc_banked_ret
                            268 ;------------------------------------------------------------
                            269 ;Allocation info for local variables in function 'channel_check_interval'
                            270 ;------------------------------------------------------------
                            271 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:70: channel_check_interval(void)
                            272 ;	-----------------------------------------
                            273 ;	 function channel_check_interval
                            274 ;	-----------------------------------------
   00DA                     275 _channel_check_interval:
                            276 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:72: return 0;
   00DA 90 00 00            277 	mov	dptr,#0x0000
   00DD 02s00r00            278 	ljmp	__sdcc_banked_ret
                            279 ;------------------------------------------------------------
                            280 ;Allocation info for local variables in function 'init'
                            281 ;------------------------------------------------------------
                            282 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:76: init(void)
                            283 ;	-----------------------------------------
                            284 ;	 function init
                            285 ;	-----------------------------------------
   00E0                     286 _init:
                            287 ;	../../../contiki-sensinode//core/net/mac/nullmac.c:78: }
   00E0 02s00r00            288 	ljmp	__sdcc_banked_ret
                            289 	.area CSEG    (CODE)
                            290 	.area CONST   (CODE)
   0000                     291 _nullmac_driver:
   0000r15s00 80            292 	.byte _str_0,(_str_0 >> 8),#0x80
   0003rE0s00s00            293 	.byte _init,(_init >> 8),(_init >> 16)
   0006r00s00s00            294 	.byte _send_packet,(_send_packet >> 8),(_send_packet >> 16)
   0009r4Es00s00            295 	.byte _packet_input,(_packet_input >> 8),(_packet_input >> 16)
   000Cr7As00s00            296 	.byte _on,(_on >> 8),(_on >> 16)
   000FrA6s00s00            297 	.byte _off,(_off >> 8),(_off >> 16)
   0012rDAs00s00            298 	.byte _channel_check_interval,(_channel_check_interval >> 8),(_channel_check_interval >> 16)
   0015                     299 _str_0:
   0015 6E 75 6C 6C 6D 61   300 	.ascii "nullmac"
        63
   001C 00                  301 	.db 0x00
                            302 	.area XINIT   (CODE)
                            303 	.area CABS    (ABS,CODE)
